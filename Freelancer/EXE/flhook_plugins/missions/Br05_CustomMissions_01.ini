;; Libety Custom Mission - VS BMM (Dublin)

;; ###############################
;; --------MISSION HEADER---------
;; ###############################

[Mission]
nickname = Br05_Custom_Mission_01
offer_type = DestroyInstallation
offer_target_system = Br05
offer_faction = fc_m_grp
offer_reward = 20000000
offer_bases = Br05_05_base
reoffer = Always
reoffer_delay = 300
offer_title_id = 462058
;res str
; Destroy Installation
offer_description_id = 462059
;res str
; Difficulty Level: 5-30
; Enemy Shiptypes: Fighter, Gunboats
; Reward: 20.000.000$
; Destination: Dublin, 5E
; Objective: Eliminate all Enemy Vessels in the Area
; Combat Zone: 7.5K from Target
; Available Ships: 5
; 
; Bonus Bounty for "Silber Team": 5.000.000$
; 
; One of our squadrons has managed to knock a BMM asteroid miner off course and disable its cruise engines. The crew refuses to abandon the ship. We need help eliminating the miner. If the miner is destroyed, you will receive a lot of money and the satisfaction of having dealt BMM a heavy blow.
; 
; Reoffer after Mission has ended: 5 Minutes

;; ###############################
;; ------MISSION DESCRIPTION------
;; ###############################

; 	Players need to destroy the Asteroid Miner and all other enemies.

; Reward:
;	20.000.000$

;; ###############################
;; ------------LABELS-------------
;; ###############################

;	players				-	Player who are currently assigned to the mission	
;	hostiles			-	Enemy NPC´s or Solars
;	allies				-	Friendly NPC´s or Solars
;	lbl_h_wave1			-	Belongs to the set of hostile NPCs spawned in the initial wave present at the enemy base
;	lbl_h_wave2			-	Belongs to the set of hostile NPCs spawned in the second wave
;	lbl_h_wave3			-	Belongs to the set of hostile NPCs spawned in the second wave
;	Boss				-	Enemy Strong NPC´s spawned in a final wave with a chance. Optional targets
;	Not_Heard_Warning	-	Players does not heard Warning (Leaving Combat Area)
;	Heard_Warning		-	Players heard Warning (Leaving Combat Area)
;   Start_On_base		-	Players who are docked during the start of the Mission
; 	Start_in_Space		-	Players who are in space during the start of the Mission
;	Launching			-	Docked Players who are launching into space
;	alive				-	Players who are alive in the Missions Area or during the start of the mission
;	dead				-	Player who are died during the mission
;   Target				-	Target Object

;; ###############################
;; -----NPC AND SOLAR SECTION-----
;; ###############################

;; -- NPC´S --

;; Attackers
[Npc]
nickname = Mollys_Foxhound_01
archetype = pi_ship_fighter_medium01_npc
loadout = fc_m_pi_elite2_loadout_d5_a
faction = fc_m_grp
state_graph = FIGHTER
space_costume = sh_male4_head, pi_pirate1_body, comm_rh_alaric
voice = pilot_f_ill_m02
pilot = pilot_pirate_ace
level = 5

[Npc]
nickname = Mollys_Foxhound_02
archetype = pi_ship_fighter_medium01_npc
loadout = fc_m_pi_elite2_loadout_d5_b
faction = fc_m_grp
state_graph = FIGHTER
voice = pilot_f_ill_m01
pilot = pilot_pirate_ace
level = 5

[Npc]
nickname = Mollys_Foxhound_03
archetype = pi_ship_fighter_medium01_npc
loadout = fc_m_pi_elite2_loadout_d5_a
faction = fc_m_grp
state_graph = FIGHTER
voice = pilot_c_ill_f01
pilot = pilot_pirate_ace
level = 5

[Npc]
nickname = Mollys_Bloodhound_01
archetype = pi_ship_fighter_light01_npc
loadout = fc_m_pi_fighter_d6_a
faction = fc_m_grp
state_graph = FIGHTER
space_costume = pi_pirate1_head, pi_pirate1_body, comm_br_elite
voice = pilot_c_ill_m02
pilot = pilot_pirate_ace
level = 5

[Npc]
nickname = Mollys_Bloodhound_02
archetype = pi_ship_fighter_light01_npc
loadout = fc_m_pi_fighter_d5_b
faction = fc_m_grp
state_graph = FIGHTER
voice = pilot_f_ill_m02
pilot = pilot_pirate_ace
level = 5


;; Attacker Wing01
[MsnNpc]
nickname = npc_Mollys_Foxhound_01_01
npc = Mollys_Foxhound_01
string_id = 462060
;res str black1
; Black 1
system = Br05
position = -1000, 0, 13741.9
pilot_job = assault_leader_job
label = allies

[MsnNpc]
nickname = npc_Mollys_Foxhound_01_02
npc = Mollys_Foxhound_02
string_id = 462061
;res str
; Black 2
system = Br05
position = -1000, 0, 13841.9
pilot_job = assault_leader_job
label = allies

[MsnNpc]
nickname = npc_Mollys_Foxhound_01_03
npc = Mollys_Foxhound_03
string_id = 462062
;res str
; Black 3
system = Br05
position = -1000, 0, 13641.9
pilot_job = assault_leader_job
label = allies

[MsnNpc]
nickname = npc_Mollys_Foxhound_01_04
npc = Mollys_Foxhound_02
string_id = 462063
;res str
; Black 4
system = Br05
position = -1000, 0, 13891.9
pilot_job = assault_leader_job
label = allies

;; Attacker Wing02
[MsnNpc]
nickname = npc_Mollys_Bloodhound_01_01
npc = Mollys_Bloodhound_01
string_id = 462064
;res str
; Gold 1
system = Br05
position = -1000, 0, 17741.9
pilot_job = assault_leader_job
label = allies

[MsnNpc]
nickname = npc_Mollys_Bloodhound_01_02
npc = Mollys_Bloodhound_02
string_id = 462065
;res str
; Gold 2
system = Br05
position = -1000, 0, 17791.9
pilot_job = assault_leader_job
label = allies

[MsnNpc]
nickname = npc_Mollys_Bloodhound_01_03
npc = Mollys_Bloodhound_02
string_id = 462066
;res str
; Gold 3
system = Br05
position = -1000, 0, 17541.9
pilot_job = assault_leader_job
label = allies

[MsnNpc]
nickname = npc_Mollys_Bloodhound_01_04
npc = Mollys_Bloodhound_02
string_id = 462067
;res str
; Gold 4
system = Br05
position = -1000, 0, 17641.9
pilot_job = assault_leader_job
label = allies

;; Enemy Defenders
[Npc]
nickname = BMM_Falcon_01
archetype = cv_ship_fighter_medium01_npc
loadout = co_ge_fighter5_loadout_d5_a
faction = br_m_grp
state_graph = FIGHTER
space_costume = rh_newscaster_head_gen_hat, pl_female1_peasant_body, comm_br_kaitlyn_female
voice = pilot_f_leg_f01
pilot = pilot_company_ace
level = 5

[Npc]
nickname = BMM_Falcon_02
archetype = cv_ship_fighter_medium01_npc
loadout = co_ge_fighter5_loadout_d5_a
faction = br_m_grp
state_graph = FIGHTER
voice = pilot_f_leg_m01b
pilot = pilot_company_ace
level = 5

[Npc]
nickname = BMM_Eagle_01
archetype = cv_ship_fighter_heavy01_npc
loadout = sds_elite2_loadout_d5_a
faction = cl_01_grp
state_graph = FIGHTER
voice = pilot_f_leg_f01
pilot = pilot_company_ace
level = 5

[Npc]
nickname = BMM_Eagle_02
archetype = cv_ship_fighter_heavy01_npc
loadout = sds_elite2_loadout_d5_a
faction = cl_01_grp
state_graph = FIGHTER
voice = pilot_f_ill_m02
pilot = pilot_company_ace
level = 5

[Npc]
nickname = Armed_Forces_Crusader_01
archetype = br_ship_fighter_medium01_npc
loadout = br_n_br_elite_loadout_d5_a
faction = br_n_grp
state_graph = FIGHTER
voice = pilot_c_leg_m01
pilot = pilot_military_ace
level = 5

[Npc]
nickname = Armed_Forces_Conqueror_01
archetype = br_ship_fighter_heavy01_npc
loadout = br_n_br_elite2_loadout_d5_a
faction = br_n_grp
state_graph = FIGHTER
space_costume = rh_newscaster_head_gen_hat, br_female_elite_body, comm_br_brighton_female
voice = pilot_c_leg_m01
pilot = pilot_military_ace
level = 5

[Npc]
nickname = Armed_Forces_Conqueror_Boss
archetype = br_ship_fighter_heavy01_npc
loadout = br_n_br_elite2_loadout_d6_a
faction = br_n_grp
state_graph = FIGHTER
space_costume = br_quigly_head, br_male_elite_body, comm_br_kaitlyn
voice = pilot_c_leg_m01
pilot = pilot_military_ace
level = 6

[Npc]
nickname = Armed_Forces_Gunboat
archetype = br_ship_gunboat01_npc
loadout = br_n_br_gunboat
faction = br_n_grp
state_graph = FIGHTER
space_costume = ge_male1_head, br_male_elite_body, comm_br_kaitlyn
voice = pilot_f_mil_m02
pilot = gunboat_default
level = 30

;; Defender Wing 01
[MsnNpc]
nickname = npc_BMM_Falcon_01_01
npc = BMM_Falcon_01
string_id = 462068
;res str falcon_Br05_CustomMissions_01
; Falcon
system = Br05
position = 3763.7, 0, 13741.9
pilot_job = defend_leader_job
label = hostiles
label = lbl_h_wave1

[MsnNpc]
nickname = npc_BMM_Falcon_01_02
npc = BMM_Falcon_02
string_id = 462068
;res $falcon_Br05_CustomMissions_01
system = Br05
position = 3502.3, 0, 13741.9
pilot_job = defend_leader_job
label = hostiles
label = lbl_h_wave1

[MsnNpc]
nickname = npc_BMM_Falcon_01_04
npc = BMM_Falcon_01
string_id = 462068
;res $falcon_Br05_CustomMissions_01
system = Br05
position = 3555, 0, 13580.7
pilot_job = defend_leader_job
label = hostiles
label = lbl_h_wave1

[MsnNpc]
nickname = npc_BMM_Falcon_01_05
npc = BMM_Falcon_02
string_id = 462068
;res $falcon_Br05_CustomMissions_01
system = Br05
position = 3708.3, 0, 13580.7
pilot_job = defend_leader_job
label = hostiles
label = lbl_h_wave1

[MsnNpc]
nickname = npc_BMM_Falcon_01_06
npc = BMM_Falcon_01
string_id = 462068
;res $falcon_Br05_CustomMissions_01
system = Br05
position = 3636.8, 0, 13580.7
pilot_job = defend_leader_job
label = hostiles
label = lbl_h_wave1

;; Defender Wing 02
[MsnNpc]
nickname = npc_BMM_Eagle_01_01
npc = BMM_Eagle_01
string_id = 462069
;res str eagle_Br05_CustomMissions_01
; Eagle
system = Br05
position = 6500, 500, 13580
pilot_job = assault_job
label = hostiles
label = lbl_h_wave2

[MsnNpc]
nickname = npc_BMM_Eagle_01_02
npc = BMM_Eagle_02
string_id = 462069
;res $eagle_Br05_CustomMissions_01
system = Br05
position = 6500, 500, 13680
pilot_job = assault_leader_job
label = hostiles
label = lbl_h_wave2

[MsnNpc]
nickname = npc_BMM_Eagle_01_03
npc = BMM_Eagle_01
string_id = 462069
;res $eagle_Br05_CustomMissions_01
system = Br05
position = 6500, 500, 13480
pilot_job = assault_leader_job
label = hostiles
label = lbl_h_wave2

[MsnNpc]
nickname = npc_BMM_Eagle_01_04
npc = BMM_Eagle_02
string_id = 462069
;res $eagle_Br05_CustomMissions_01
system = Br05
position = 6500, 500, 13480
pilot_job = assault_leader_job
label = hostiles
label = lbl_h_wave2

[MsnNpc]
nickname = npc_BMM_Eagle_01_05
npc = BMM_Eagle_01
string_id = 462069
;res $eagle_Br05_CustomMissions_01
system = Br05
position = 6500, 500, 13620
pilot_job = assault_leader_job
label = hostiles
label = lbl_h_wave2

[MsnNpc]
nickname = npc_BMM_Eagle_01_06
npc = BMM_Eagle_02
string_id = 462069
;res $eagle_Br05_CustomMissions_01
system = Br05
position = 6500, 500, 13500
pilot_job = assault_leader_job
label = hostiles
label = lbl_h_wave2

[MsnNpc]
nickname = npc_BMM_Eagle_01_07
npc = BMM_Eagle_01
string_id = 462069
;res $eagle_Br05_CustomMissions_01
system = Br05
position = 6500, 500, 13380
pilot_job = assault_leader_job
label = hostiles
label = lbl_h_wave2

[MsnNpc]
nickname = npc_BMM_Eagle_01_08
npc = BMM_Eagle_01
string_id = 462069
;res $eagle_Br05_CustomMissions_01
system = Br05
position = 6500, 500, 13880
pilot_job = assault_leader_job
label = hostiles
label = lbl_h_wave2

;; Defender Wing 03
[MsnNpc]
nickname = npc_Armed_Forces_Crusader_01_01
npc = Armed_Forces_Crusader_01
string_id = 462070
;res str crusader_Br05_CustomMissions_01
; Crusader
system = Br05
position = 5500, 0, 11500
pilot_job = assault_leader_job
label = hostiles
label = lbl_h_wave3

[MsnNpc]
nickname = npc_Armed_Forces_Crusader_01_02
npc = Armed_Forces_Crusader_01
string_id = 462070
;res $crusader_Br05_CustomMissions_01
system = Br05
position = 5600, 0, 11500
pilot_job = assault_leader_job
label = hostiles
label = lbl_h_wave3

[MsnNpc]
nickname = npc_Armed_Forces_Crusader_01_03
npc = Armed_Forces_Crusader_01
string_id = 462070
;res $crusader_Br05_CustomMissions_01
system = Br05
position = 5550, 0, 11500
pilot_job = assault_leader_job
label = hostiles
label = lbl_h_wave3

[MsnNpc]
nickname = npc_Armed_Forces_Crusader_01_04
npc = Armed_Forces_Crusader_01
string_id = 462070
;res $crusader_Br05_CustomMissions_01
system = Br05
position = 5500, 0, 12000
pilot_job = assault_leader_job
label = hostiles
label = lbl_h_wave3

[MsnNpc]
nickname = npc_Armed_Forces_Crusader_01_05
npc = Armed_Forces_Crusader_01
string_id = 462070
;res $crusader_Br05_CustomMissions_01
system = Br05
position = 5400, 0, 11500
pilot_job = assault_leader_job
label = hostiles
label = lbl_h_wave3

[MsnNpc]
nickname = npc_Armed_Forces_Gunboat_03
npc = Armed_Forces_Gunboat
string_id = 462071
;res str
; Gunboat
system = Br05
position = = 5500, 0, 12200
pilot_job = job_gunboat_a
label = hostiles
label = lbl_h_wave3

;; Defender Boss
[MsnNpc]
nickname = npc_Armed_Forces_Conqueror_01
npc = Armed_Forces_Conqueror_Boss
string_id = 462072
;res str bossname_Br05_CustomMissions_01
; "The Round Table"
system = Br05
position = 6000, 0, 12600
pilot_job = assault_leader_job
label = hostiles
label = Boss

[MsnNpc]
nickname = npc_Armed_Forces_Conqueror_02
npc = Armed_Forces_Conqueror_01
string_id = 462072
;res $bossname_Br05_CustomMissions_01
system = Br05
position = 6080, 0, 12600
pilot_job = assault_leader_job
label = hostiles
label = Boss

[MsnNpc]
nickname = npc_Armed_Forces_Conqueror_03
npc = Armed_Forces_Conqueror_01
string_id = 462072
;res $bossname_Br05_CustomMissions_01
system = Br05
position = 6160, 0, 12600
pilot_job = assault_leader_job
label = hostiles
label = Boss

[MsnNpc]
nickname = npc_Armed_Forces_Gunboat_01
npc = Armed_Forces_Gunboat
string_id = 462072
;res $bossname_Br05_CustomMissions_01
system = Br05
position = 6000, 0, 12400
pilot_job = job_gunboat_a
label = hostiles
label = Boss

[MsnNpc]
nickname = npc_Armed_Forces_Gunboat_02
npc = Armed_Forces_Gunboat
string_id = 462072
;res $bossname_Br05_CustomMissions_01
system = Br05
position = 6080, 0, 12800
pilot_job = job_gunboat_a
label = hostiles
label = Boss

;; -- SOLARS --

[MsnSolar]
nickname = solar_BMM_Miner
string_id = 462073
;res str
; BMM Asteroid Miner
archetype = mission_Roid_Miner_Cargo_tuck
loadout = mission_Roid_Miner_gold_01
system = Br05
position = 3632.4, -0.3, 13885.2
rotate = 0, 75, 0
space_costume = br_newscaster_head_gen_hat, pl_female1_peasant_body, prop_neuralnet_F_right
faction = br_m_grp
voice = atc_leg_f01
hitpoints = 1000000
label = hostiles
label = Target

;; ###############################
;; ---------FORMATIONS------------
;; ###############################

[MsnFormation]
nickname = AttackWing01
position = -1000, 0, 13741.9
rotate = 0, 0, 0
formation = fighter_basic
ship = npc_Mollys_Foxhound_01_01
ship = npc_Mollys_Foxhound_01_02
ship = npc_Mollys_Foxhound_01_03
ship = npc_Mollys_Foxhound_01_04

[MsnFormation]
nickname = AttackWing02
position = -1000, 0, 17741.9
rotate = 0, 0, 0
formation = fighter_basic
ship = npc_Mollys_Bloodhound_01_01
ship = npc_Mollys_Bloodhound_01_02
ship = npc_Mollys_Bloodhound_01_03
ship = npc_Mollys_Bloodhound_01_04

[MsnFormation]
nickname = DefenderWing01
position = 3763.7, 0, 13741.9
rotate = 0, 0, 0
formation = fighter_basic
ship = npc_BMM_Falcon_01_01
ship = npc_BMM_Falcon_01_02
ship = npc_BMM_Falcon_01_03
ship = npc_BMM_Falcon_01_04
ship = npc_BMM_Falcon_01_05
ship = npc_BMM_Falcon_01_06

[MsnFormation]
nickname = DefenderWing02
position = 6500, 500, 13580
rotate = 0, 0, 0
formation = fighter_basic
ship = npc_BMM_Eagle_01_01
ship = npc_BMM_Eagle_01_02
ship = npc_BMM_Eagle_01_03
ship = npc_BMM_Eagle_01_04
ship = npc_BMM_Eagle_01_05
ship = npc_BMM_Eagle_01_06
ship = npc_BMM_Eagle_01_07
ship = npc_BMM_Eagle_01_08

[MsnFormation]
nickname = DefenderWing03
position = 5500, 0, 11500
rotate = 0, 75, 0
formation = fighter_basic
ship = npc_Armed_Forces_Crusader_01_01
ship = npc_Armed_Forces_Crusader_01_02
ship = npc_Armed_Forces_Crusader_01_03
ship = npc_Armed_Forces_Crusader_01_04
ship = npc_Armed_Forces_Crusader_01_05

[MsnFormation]
nickname = DefenderWing04
position = 6000, 0, 12600
rotate = 0, 0, 0
formation = gunboat_rh_n
ship = npc_Armed_Forces_Conqueror_01
ship = npc_Armed_Forces_Conqueror_02
ship = npc_Armed_Forces_Conqueror_03
ship = npc_Armed_Forces_Gunboat_01
ship = npc_Armed_Forces_Gunboat_02

;; ###############################
;; ------------DIALOGS------------
;; ###############################


;; Dialogs are currently no recognized from the parser, you need to fill ID´s yourself!
[Dialog]
nickname = dialog_entering_mission_zone
etherSender = MissionCommission, mc_leg_m01, 13015, pi_pirate4_head, pi_pirate1_body
etherSender = Attacker,  pilot_f_ill_m02, 462060, sh_male4_head, pi_pirate1_body, comm_rh_alaric
;res $black1
line = coms_entering_zone_attacker, players, Attacker, gcs_misc_thisis+, gcs_refer_faction_fc_m_short, gcs_refer_formationdesig_19, gcs_misc_number_1-, gcs_combat_askforhelp_04-, 1.0, true
line = coms_entering_zone_mc, players, MissionCommission, rmb_inrangetarget_02-, 0.1, false

[Dialog]
nickname = dialog_close_to_objective
line = coms_close_to_objective_attacker, players, npc_Mollys_Foxhound_01_01, gcs_combat_order_engage_02-, 0.5, true
line = coms_close_to_objective_defender, players, solar_BMM_Miner, gcs_combat_attentionallunits_02-, gcs_combat_manturrets_04-, 0.5, true
line = coms_close_to_objective_defender02, players, npc_BMM_Falcon_01_01, gcs_misc_ack_01-, gcs_misc_attentionallwingmen_01+, gcs_combat_order_engage_01-, 0.5, true
line = coms_close_to_objective_attacker02, players, npc_Mollys_Foxhound_01_01, gcs_scan_angry_01-, 0.5, true
line = coms_close_to_objective_defender03, players, npc_BMM_Falcon_01_01, rms_smallshiptaunt_03-, 0.5, true

[Dialog]
nickname = dialog_reinforcements_defender01
etherSender = NeuralNet, NNVoice
line = coms_reinforcements_defender01, players, NeuralNet, warning, info_incoming_hostiles, 0.5, false

[Dialog]
nickname = dialog_reinforcements_defender02
etherSender = NeuralNet, NNVoice
line = coms_reinforcements_defender02, players, NeuralNet, warning, info_incoming_hostiles, 0.5, false

[Dialog]
nickname = dialog_reinforcements_defender03
etherSender = NeuralNet, NNVoice
line = coms_reinforcements_defender03_02, players, NeuralNet, warning, info_incoming_hostiles, 0.5, false

[Dialog]
nickname = dialog_reinforcements_defender04
etherSender = NeuralNet, NNVoice
line = coms_reinforcements_defender04_01, players, npc_Armed_Forces_Conqueror_01, gcs_scan_angry_01-, rms_smallshiptaunt_02-, 0.5, false
line = coms_reinforcements_defender04_02, players, NeuralNet, danger, info_incoming_hostiles, 0.5, false

[Dialog]
nickname = dialog_reinforcements_attacker01
etherSender = Attacker2,  pilot_c_ill_m02, 462074, pi_pirate1_head, pi_pirate1_body, comm_br_elite
;res str
; Gold 1
line = coms_reinforcements_attacker01_01, players, Attacker2, rms_friendlyarrival_03-, 1.5, false
line = coms_reinforcements_attacker01_02, players, Attacker2, gcs_misc_attentionallwingmen_01+, gcs_combat_takinglead_01-, gcs_combat_order_engage_04-, 0.5, false

[Dialog]
nickname = dialog_mission_success
etherSender = MissionCommission, mc_leg_m01, 13015, pi_pirate4_head, pi_pirate1_body
line = coms_mission_success_mc, players, MissionCommission, rmb_success_solar_02-, 0.1, false

[Dialog]
nickname = dialog_deserteurs_warning
etherSender = MissionCommission, mc_leg_m01, 13015, pi_pirate4_head, pi_pirate1_body
line = coms_deserteurs_mc, ACTIVATOR, MissionCommission, rmb_outofbattle_02-, 0.5, false

[Dialog]
nickname = dialog_deserteurs_returning
etherSender = MissionCommission, mc_leg_m01, 13015, pi_pirate4_head, pi_pirate1_body
line = coms_deserteurs_returning_mc, ACTIVATOR, MissionCommission, rmb_reenterbattle_02-, 0.5, false

[Dialog]
nickname = dialog_deserteurs_mission_fail
etherSender = MissionCommission, mc_leg_m01, 13015, pi_pirate4_head, pi_pirate1_body
line = coms_mission_success_mc, ACTIVATOR, MissionCommission, rmb_fail_combatrange_02-, 0.1, false

[Dialog]
nickname = dialog_mission_fail_dead
etherSender = MissionCommission, mc_leg_m01, 13015, pi_pirate4_head, pi_pirate1_body
line = coms_mission_failed, players, MissionCommission, rmb_fail_outoflives_02-, 0.1, false

[Dialog]
nickname = dialog_objective_damage_25
line = coms_close_to_objective_defender, players, solar_BMM_Miner, gcs_combat_taking_dmg_05-, 0.5, true

[Dialog]
nickname = dialog_objective_damage_50
line = coms_close_to_objective_defender, players, solar_BMM_Miner, gcs_combat_taking_dmg_worst_01-, 0.5, true

[Dialog]
nickname = dialog_objective_damage_75
line = coms_close_to_objective_defender, players, solar_BMM_Miner, gcs_combat_taking_dmg_worst_06-, 0.5, true

[Dialog]
nickname = dialog_objective_destroyed
line = coms_close_to_objective_defender, players, solar_BMM_Miner, gcs_combat_scream_08-, 0.5, true


;; ###############################
;; --------OBJECTIVE LISTS--------
;; ###############################

;; Fly to Mission Zone
[ObjList]
nickname = ol_fly_to_mission_zone
GotoVec = goto_cruise, 3634.4, 0, 13741.9, 1500, -1
BreakFormation = no_params

[ObjList]
nickname = ol_back_to_base
GotoVec = goto_cruise, -14917, 0, -23680, 2000, -1

;; ###############################
;; -------TRIGGER SECTION---------
;; ###############################

;; -------------------------------
;; AFTER ACCEPTING MISSION
;; -------------------------------

;; Start of Mission. Objective uses 'best path' because mission is unlawful
[Trigger]
nickname = start_mission
initstate = ACTIVE
Act_ActTrig = start_manage_initial_player_locations
Act_AddLabel = players, alive
Act_AddLabel = players, Arriving_players
Act_SetNNObj = players, 462075, Br05, 3634.4, 0, 13741, true
;res str
; Fly to the Mission Waypoint (Dublin, Sector 5E)

[Trigger]
nickname = start_manage_initial_player_locations
Cnd_True = no_params
Act_AddLabel = players, unmanaged_player
Act_ActTrig = start_players_on_base
Act_ActTrig = start_players_in_same_system
Act_ActTrig = start_players_in_space
Act_ActTrig = finish_manage_initial_player_locations

;; cleans up repeating triggers and starts first wave of mission commission communication for players in space when mission is accepted
[Trigger]
nickname = finish_manage_initial_player_locations
Cnd_Count = unmanaged_player, 0
Act_DeactTrig = start_players_on_base
Act_ActTrig = start_players_in_same_system
Act_DeactTrig = start_players_in_space
;Act_DebugMsg = DEBUG Finished assigning players their initial conditions for comms
Act_ActTrig = mc_com_players_in_same_system
Act_ActTrig = mc_com_players_in_other_system

;; Detecting Players docked on bases
[Trigger]
nickname = start_players_on_base
repeatable = auto
Cnd_OnBase = unmanaged_player
Act_AddLabel = ACTIVATOR, Start_On_base
Act_RemoveLabel = ACTIVATOR, unmanaged_player

;; Detecting Players already in space
[Trigger]
nickname = start_players_in_same_system
repeatable = auto
Cnd_InSystem = unmanaged_player, br05
Act_AddLabel = ACTIVATOR, started_in_system
Act_RemoveLabel = ACTIVATOR, unmanaged_player

;; start_players_in_same_system MUST run completely before this.
[Trigger]
nickname = start_players_in_space
repeatable = auto
Cnd_InSystem = unmanaged_player
Act_AddLabel = ACTIVATOR, started_in_space
Act_RemoveLabel = ACTIVATOR, unmanaged_player


;; Players launching to space

[Trigger]
nickname = start_mission_entering_space
initstate = ACTIVE
repeatable = Auto
Cnd_SystemEnter = Start_On_base, br05
Act_RemoveLabel = ACTIVATOR, Start_On_base
Act_AddLabel = ACTIVATOR, Launching
Act_ActTrig = start_mission_entering_space_mc_dialog

;; start_mission_entering_space MUST run completely before this.
[Trigger]
nickname = start_mission_entering_space_anywhere
initstate = ACTIVE
repeatable = Auto
Cnd_SystemEnter = Start_On_base
Act_RemoveLabel = ACTIVATOR, Start_On_base
Act_AddLabel = ACTIVATOR, Launching_anywhere
Act_ActTrig = start_mission_entering_space_mc_dialog_anywhere

[Trigger]
nickname = start_mission_entering_space_mc_dialog
repeatable = Manual
Cnd_Timer = 12
Act_EtherComm = coms_mission_update, Launching, mc_leg_m01, rmb_targetatwaypoint_01-, 0, false, 13015, pi_pirate4_head, pi_pirate1_body
Act_RemoveLabel = Launching, Launching

[Trigger]
nickname = start_mission_entering_space_mc_dialog_anywhere
repeatable = Manual
Cnd_Timer = 12
Act_EtherComm = coms_mission_update, Launching_anywhere, mc_leg_m01, rmb_targetatwaypoint_01-, 0, false, 13015, pi_pirate4_head, pi_pirate1_body
Act_RemoveLabel = Launching_anywhere, Launching_anywhere

;; Sends "go to waypoint" comm to all players that got the 'started in system' label
[Trigger]
nickname = mc_com_players_in_same_system
repeatable = Manual
Cnd_True = no_params
Act_EtherComm = coms_mission_update, started_in_system, mc_leg_m01, rmb_targetatwaypoint_01-, 0, false, 13015, pi_pirate4_head, pi_pirate1_body
Act_RemoveLabel = started_in_system, started_in_system

;; Sends "proceed to target system" comm to all players that remain with the 'started in space' label
[Trigger]
nickname = mc_com_players_in_other_system
repeatable = Manual
Cnd_True = no_params
Act_EtherComm = coms_mission_update, started_in_space, mc_leg_m01, rmb_flytosystem_01-, 0, false, 13015, pi_pirate4_head, pi_pirate1_body
Act_RemoveLabel = started_in_space, started_in_space

;; -------------------------------
;; ENTERING MISSION ZONE
;; -------------------------------

[Trigger]
nickname = entering_mission_zone
initstate = ACTIVE
Cnd_DistVec = players, 3634.4, 0, 13741.9, 10000, Br05, INSIDE
; Spawn NPC´s
Act_SpawnFormation = AttackWing01
Act_SpawnFormation = DefenderWing01
Act_Mark = players, lbl_h_wave1, true
Act_SpawnSolar = solar_BMM_Miner
Act_Mark = players, solar_BMM_Miner, true
; Order NPC´s to fly to Mission Zone
; - Attacker
Act_GiveObjList = npc_Mollys_Foxhound_01_01, ol_fly_to_mission_zone
Act_GiveObjList = npc_Mollys_Foxhound_01_02, ol_fly_to_mission_zone
Act_GiveObjList = npc_Mollys_Foxhound_01_03, ol_fly_to_mission_zone
Act_GiveObjList = npc_Mollys_Foxhound_01_04, ol_fly_to_mission_zone
; - Defender
Act_GiveObjList = npc_BMM_Falcon_01_01, ol_fly_to_mission_zone
Act_GiveObjList = npc_BMM_Falcon_01_02, ol_fly_to_mission_zone
Act_GiveObjList = npc_BMM_Falcon_01_03, ol_fly_to_mission_zone
Act_GiveObjList = npc_BMM_Falcon_01_04, ol_fly_to_mission_zone
Act_GiveObjList = npc_BMM_Falcon_01_05, ol_fly_to_mission_zone
Act_GiveObjList = npc_BMM_Falcon_01_06, ol_fly_to_mission_zone
; Change Music
Act_PlayMusic = players, music_br_space, music_br_danger, music_br_battle, music_br_danger, 1, true
; Start Dialog
Act_StartDialog = dialog_entering_mission_zone
Act_ActTrig = Player_kia_in_Zone
Act_ActTrig = Player_kia_launching
Act_ActTrig = Player_kia_returning
Act_ActTrig = close_to_mission_zone
Act_ActTrig = Target_health_25
Act_ActTrig = Target_health_50
Act_ActTrig = Target_health_75
Act_ActTrig = Target_health_100
Act_ActTrig = make_invulnerable

[Trigger]
nickname = make_invulnerable
Cnd_True = no_params
Act_Invulnerable = npc_Mollys_Foxhound_01_01, true, true, 0.9
Act_Invulnerable = npc_BMM_Falcon_01_01, true, true, 0.9

;; -------------------------------
;; CLOSE TO OBJECTIVE
;; -------------------------------

[Trigger]
nickname = close_to_mission_zone
Cnd_DistVec = players, 3634.4, 0, 13741.9, 3000, Br05, INSIDE
; Start Dialog
Act_StartDialog = dialog_close_to_objective
; Update Waypoint
Act_SetNNObj = players, 462076, Br05, 3634.4, 0, 13741.9, false, Defender_Base
;res str
; Destroy BMM Asteroid Miner and Ships
Act_PlayMusic = players, music_br_space, music_br_danger, music_br_battle, music_reveal_enemy_position_of_strength, 1, true
; Activate Checks for Deserteurs
Act_AddLabel = players, Not_Heard_Warning
Act_ActTrig = deserteurs_warning
Act_ActTrig = deserteurs_warning_returning
Act_ActTrig = deserteurs_flew_away
Act_ActTrig = Player_lives_4
Act_ActTrig = Mission_Objective_failed_No_Players
Act_ActTrig = Mission_Objective_Complete
Act_ActTrig = spawn_first_wave
Act_ActTrig = spawn_second_wave
; Boss spawn (66.7% chance)
Act_ActTrig = spawn_boss_wave, 0.667
; Additional Attacker spawn
Act_ActTrig = spawn_second_attacker_wave
; Make NPC´s stay in Combat Zone if no target nearby
Act_ActTrig = send_defender_back
Act_ActTrig = send_boss_back
Act_ActTrig = send_attackers_back
Act_DeactTrig = start_mission_entering_space
Act_DeactTrig = start_mission_entering_space_anywhere
Act_ActTrig = make_vulnerable
Act_ActTrig = refresh_vibe

[Trigger]
nickname = refresh_vibe
repeatable = manual
Cnd_True = no_params
Act_SetVibe = hostiles, players, -1
Act_SetVibe = allies, players, 1
Act_SetVibe = allies, hostiles, -1
Act_SetVibe = hostiles, hostiles, 1

[Trigger]
nickname = make_vulnerable
Cnd_Timer = 20
Act_Invulnerable = npc_Mollys_Foxhound_01_01, false, false, 0.0
Act_Invulnerable = npc_BMM_Falcon_01_01, false, false, 0.0


;; -------------------------------
;; SPAWN REINFORCEMENTS 
;; -------------------------------

;; First Wave
[Trigger]
nickname = spawn_first_wave
Cnd_Destroyed = hostiles, 3
Act_SpawnFormation = DefenderWing02
Act_Mark = players, lbl_h_wave2, true
Act_ActTrig = Set_first_wave_OL
Act_StartDialog = dialog_reinforcements_defender02
Act_ActTrig = refresh_vibe

[Trigger]
nickname = Set_first_wave_OL
Cnd_True = no_params
Act_GiveObjList = npc_BMM_Eagle_01_01, ol_fly_to_mission_zone
Act_GiveObjList = npc_BMM_Eagle_01_02, ol_fly_to_mission_zone
Act_GiveObjList = npc_BMM_Eagle_01_03, ol_fly_to_mission_zone
Act_GiveObjList = npc_BMM_Eagle_01_04, ol_fly_to_mission_zone
Act_GiveObjList = npc_BMM_Eagle_01_05, ol_fly_to_mission_zone
Act_GiveObjList = npc_BMM_Eagle_01_06, ol_fly_to_mission_zone
Act_GiveObjList = npc_BMM_Eagle_01_07, ol_fly_to_mission_zone
Act_GiveObjList = npc_BMM_Eagle_01_08, ol_fly_to_mission_zone

;; Second Wave
[Trigger]
nickname = spawn_second_wave
Cnd_Destroyed = hostiles, 9
Act_SpawnFormation = DefenderWing03
Act_ActTrig = Set_second_wave_OL
Act_SpawnShip = npc_Armed_Forces_Gunboat_03, ol_fly_to_mission_zone
Act_Mark = players, lbl_h_wave3, true
Act_StartDialog = dialog_reinforcements_defender03
Act_ActTrig = refresh_vibe

[Trigger]
nickname = Set_second_wave_OL
Cnd_True = no_params
Act_GiveObjList = npc_Armed_Forces_Crusader_01_01, ol_fly_to_mission_zone
Act_GiveObjList = npc_Armed_Forces_Crusader_01_02, ol_fly_to_mission_zone
Act_GiveObjList = npc_Armed_Forces_Crusader_01_03, ol_fly_to_mission_zone
Act_GiveObjList = npc_Armed_Forces_Crusader_01_04, ol_fly_to_mission_zone
Act_GiveObjList = npc_Armed_Forces_Crusader_01_05, ol_fly_to_mission_zone

;; Boss (66.7% Chance)
[Trigger]
nickname = spawn_boss_wave
Cnd_Destroyed = hostiles, 13
Act_SpawnFormation = DefenderWing04
Act_ActTrig = Set_boss_wave_OL
Act_StartDialog = dialog_reinforcements_defender04
Act_ActTrig = Bonus_Bounty
Act_ActTrig = refresh_vibe

[Trigger]
nickname = Set_boss_wave_OL
Cnd_True = no_params
Act_GiveObjList = npc_Armed_Forces_Conqueror_01, ol_fly_to_mission_zone
Act_GiveObjList = npc_Armed_Forces_Conqueror_02, ol_fly_to_mission_zone
Act_GiveObjList = npc_Armed_Forces_Conqueror_03, ol_fly_to_mission_zone
Act_GiveObjList = npc_Armed_Forces_Gunboat_01, ol_fly_to_mission_zone
Act_GiveObjList = npc_Armed_Forces_Gunboat_02, ol_fly_to_mission_zone

;; Second Attacke Wave
[Trigger]
nickname = spawn_second_attacker_wave
Cnd_Timer = 60
Act_SpawnFormation = AttackWing02
Act_ActTrig = Set_second_attackerwave_OL
Act_StartDialog = dialog_reinforcements_attacker01
Act_ActTrig = refresh_vibe

[Trigger]
nickname = Set_second_attackerwave_OL
Cnd_True = no_params
Act_GiveObjList = npc_Mollys_Bloodhound_01_01, ol_fly_to_mission_zone
Act_GiveObjList = npc_Mollys_Bloodhound_01_02, ol_fly_to_mission_zone
Act_GiveObjList = npc_Mollys_Bloodhound_01_03, ol_fly_to_mission_zone
Act_GiveObjList = npc_Mollys_Bloodhound_01_04, ol_fly_to_mission_zone

;; -------------------------------
;; BIG TARGET HP STATUS DIALOG
;; -------------------------------

[Trigger]
nickname = Target_health_25
Cnd_HealthDec = solar_BMM_Miner, 0.75
Act_StartDialog = dialog_objective_damage_25

[Trigger]
nickname = Target_health_50
Cnd_HealthDec = solar_BMM_Miner, 0.5
Act_StartDialog = dialog_objective_damage_50

[Trigger]
nickname = Target_health_75
Cnd_HealthDec = solar_BMM_Miner, 0.25
Act_StartDialog = dialog_objective_damage_75

[Trigger]
nickname = Target_health_100
Cnd_HealthDec = solar_BMM_Miner, 0.0
Act_StartDialog = dialog_objective_destroyed

;; -------------------------------
;; PULL NPC´s BACK IF OUTSIDE
;; -------------------------------

[Trigger]
nickname = send_defender_back
repeatable = Auto
Cnd_DistVec = hostiles, 3634.4, 0, 13741.9, 6000, Br05, OUTSIDE
Act_GiveObjList = ACTIVATOR, ol_fly_to_mission_zone

[Trigger]
nickname = send_boss_back
repeatable = Auto
Cnd_DistVec = Boss , 3634.4, 0, 13741.9, 6000, Br05, OUTSIDE
Act_GiveObjList = ACTIVATOR, ol_fly_to_mission_zone

[Trigger]
nickname = send_attackers_back
repeatable = Auto
Cnd_DistVec = allies, 3634.4, 0, 13741.9, 6000, Br05, OUTSIDE
Act_GiveObjList = ACTIVATOR, ol_fly_to_mission_zone

;; -------------------------------
;; DESERTEURS (WARNING)
;; -------------------------------

;; Player is about to leave the Mission Area!
[Trigger]
nickname = deserteurs_warning
repeatable = Auto
Cnd_DistVec = Not_Heard_Warning, 3634, 0, 13741, 7500, Br05, OUTSIDE
Act_StartDialog = dialog_deserteurs_warning
Act_SetNNObj = ACTIVATOR, 462077, Br05, 3634.4, 0, 13741.9
;res str
; Warning - Leaving Combat Area!
Act_AddLabel = ACTIVATOR, Heard_Warning
Act_RemoveLabel = ACTIVATOR, Not_Heard_Warning

;; Player is returning to Mission Area!
[Trigger]
nickname = deserteurs_warning_returning
repeatable = Auto
Cnd_DistVec = Heard_Warning, 3634.4, 0, 13741.9, 4000, Br05, INSIDE
Act_AddLabel = ACTIVATOR, Not_Heard_Warning
Act_RemoveLabel = ACTIVATOR, Heard_Warning
Act_StartDialog = dialog_deserteurs_returning
Act_SetNNObj = ACTIVATOR, 462078, Br05, 3634.4, 0, 13741.9, false, solar_BMM_Miner
;res str
; Destroy all Enemy Ships

;; -------------------------------
;; DESERTEURS (MISSION FAILURE)
;; -------------------------------

[Trigger]
nickname = deserteurs_flew_away
repeatable = Auto
Cnd_DistVec = Heard_Warning, 3634.4, 0, 13741.9, 12000, Br05, OUTSIDE
Act_StartDialog = dialog_deserteurs_mission_fail
Act_AdjRep = ACTIVATOR, fc_m_grp, MissionFailure
Act_LeaveMsn = ACTIVATOR, Failure, 21970

;; -------------------------------
;; PLAYER KIA INSIDE MISSION AREA
;; -------------------------------

;; Player died in Mission Area!
[Trigger]
nickname = Player_kia_in_Zone
repeatable = Auto
Cnd_Destroyed = alive, 1, Explode, , Destroyed
Act_RemoveLabel = ACTIVATOR, Not_Heard_Warning
Act_RemoveLabel = ACTIVATOR, Heard_Warning
Act_RemoveLabel = ACTIVATOR, alive
Act_AddLabel = ACTIVATOR, dead

;; Dead Player is launching
[Trigger]
nickname = Player_kia_launching
repeatable = Auto
Cnd_SystemEnter = dead, Br05
Act_SetNNObj = ACTIVATOR, 462079, Br05, 3634.4, 0, 13741.9, true
;res str
; Fly to the Mission Waypoint (Dublin, Sector 5E)

;; Dead Player is returning to Mission Area!
[Trigger]
nickname = Player_kia_returning
repeatable = Auto
Cnd_DistVec = dead, 3634.4, 0, 13741.9, 5000, Br05, INSIDE
Act_AddLabel = ACTIVATOR, Heard_Warning
Act_AddLabel = ACTIVATOR, alive
Act_RemoveLabel = ACTIVATOR, dead
Act_ActTrig = refresh_vibe

;; -------------------------------
;; LIVES COUNTING
;; -------------------------------

[Trigger]
nickname = Player_lives_4
Cnd_Destroyed = alive, 1, Explode
Act_SetNNObj = players, 462080
;res str
; Allied Ship Lost! - 4 Left
Act_ActTrig = Player_lives_3

[Trigger]
nickname = Player_lives_3
Cnd_Destroyed = alive, 1, Explode
Act_SetNNObj = players, 462081
;res str
; Allied Ship Lost! - 3 Left
Act_ActTrig = Player_lives_2

[Trigger]
nickname = Player_lives_2
Cnd_Destroyed = alive, 1, Explode
Act_SetNNObj = players, 462082
;res str
; Allied Ship Lost! - 2 Left
Act_ActTrig = Player_lives_1

[Trigger]
nickname = Player_lives_1
Cnd_Destroyed = alive, 1, Explode
Act_SetNNObj = players, 462083
;res str
; Allied Ship Lost! - 1 Left
Act_ActTrig = Mission_Objective_failed_No_Lives

;; -------------------------------
;; OUT OF LIVES! (MISSION FAILED)
;; -------------------------------

[Trigger]
nickname = Mission_Objective_failed_No_Lives
Cnd_Destroyed = alive, 1, Explode
Act_SetNNObj = players, 462084
;res str
; All Ships Lost!
Act_StartDialog = dialog_mission_fail_dead
Act_LeaveMsn = players, Failure, 21970
Act_AdjRep = players, fc_rh_grp, MissionFailure
Act_SetMsnResult = Failure
Act_LeaveMsn = players, Failure, 21970
Act_ActTrig = Cleaning_up_repeatables

;; -------------------------------
;; NO PLAYERS IN MISSION ZONE (MISSION FAILED)
;; -------------------------------

; [Trigger]
; nickname = Mission_Objective_failed_No_Players
; Cnd_Destroyed = alive, -1
; Act_StartDialog = dialog_mission_fail_dead
; Act_SetMsnResult = Failure
; Act_LeaveMsn = players, Failure, 21970
; Act_ActTrig = Cleaning_up_repeatables

;; -------------------------------
;; MISSION OBJECTIVE (MISSION COMPLETE)
;; -------------------------------

[Trigger]
nickname = Mission_Objective_Complete
Cnd_Destroyed = hostiles, -1
Act_StartDialog = dialog_mission_success
Act_AdjAcct = players, 20000000, true
Act_AdjRep = players, fc_m_grp, 0.25
Act_SetMsnResult = Success
Act_LeaveMsn = players, Success, 1231
Act_ActTrig = Cleaning_up_repeatables

;; -------------------------------
;; MISSION OBJECTIVE (BONUS)
;; -------------------------------

[Trigger]
nickname = Bonus_Bounty
Cnd_Destroyed = Boss, -1
Act_AdjAcct = players, 5000000, true
Act_SetNNObj = players, 462085
;res str
; Bounty Received

;; -------------------------------
;; CLEANING UP
;; -------------------------------

[Trigger]
nickname = Cleaning_up_repeatables
Cnd_True = no_params
Act_DeactTrig = deserteurs_warning
Act_DeactTrig = deserteurs_warning_returning
Act_DeactTrig = deserteurs_flew_away
Act_DeactTrig = start_mission_entering_space
Act_DeactTrig = start_mission_entering_space_anywhere
Act_DeactTrig = Player_kia_in_Zone
Act_DeactTrig = Player_kia_launching
Act_DeactTrig = Player_kia_returning
Act_ActTrig = end_mission_delayed

;; ###############################
;; ---------END SECTION-----------
;; ###############################

;; Delayed Mission End (30s)
[Trigger]
nickname = end_mission_delayed
Cnd_Timer = 30
Act_TerminateMsn = no_params
