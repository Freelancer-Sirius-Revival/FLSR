;; Libety Custom Mission - VS Rogues 01 (Pittsburgh)

;; ###############################
;; --------MISSION HEADER---------
;; ###############################

[Mission]
nickname = Li01_Custom_Mission_01
;initstate = ACTIVE

; offer_target_system = Li01
; offer_faction = li_lsf_grp
; offer_reward = 2000000
; offer_bases = Li01_02_base
; offer_string_id = 0
;res str
; Difficulty Level: 5-6
; Reward: 20.000.000$
; Destination: New York, 3F
; Objective: Destroy All Hostile Targets
; 
; A group of Liberty Rogues have established a base in the Dustfield near Pittsburgh. Liberty security forces and the LSF need assistance. This is a special mission, and every freelancer must sign a non-disclosure agreement. A large reward awaits those who participate.


;; ###############################
;; ------MISSION DESCRIPTION------
;; ###############################

; 	Players need to destroy a group of Rogues ships and a depot in the Smoke Cloud near Pittsburgh

; Reward:
;	20.000.000$

;; ###############################
;; ------------LABELS-------------
;; ###############################

;	players				-	Player who are currently assigned to the mission	
;	hostiles			-	Enemy NPC´s or Solars
;	allies				-	Friendly NPC´s or Solars
; 	Boss				-	Enemy Strong NPC´s
;	Not_Heard_Warning	-	Players does not heard Warning (Leaving Combat Area)
;	Heard_Warning		-	Players heard Warning (Leaving Combat Area)
;   Deserteurs			-	Players who Run away (NO REWARD!)
;   Dead				-	Players who died during the Mission (NO REWARD!)
;   Not_Heard_Update	-	Players does not heard m

;; ###############################
;; -----NPC AND SOLAR SECTION-----
;; ###############################

;; -- NPC´S --

;; Attackers
[Npc]
nickname = police_patriot_01
archetype = li_ship_fighter_light01_npc
loadout = li_p_li_fighter_loadout_d5_a
faction = li_p_grp
state_graph = FIGHTER
space_costume = li_sales_head_hat, li_male_guard_body, comm_ge_generic2
voice = pilot_f_mil_m02
pilot = pilot_police_ace
level = 5

[Npc]
nickname = police_patriot_02
archetype = li_ship_fighter_light01_npc
loadout = li_p_li_fighter_loadout_d5_a
faction = li_p_grp
state_graph = FIGHTER
voice = pilot_f_leg_f01
pilot = pilot_police_ace
level = 5

[Npc]
nickname = police_patriot_03
archetype = li_ship_fighter_light01_npc
loadout = li_p_li_fighter_loadout_d5_a
faction = li_p_grp
state_graph = FIGHTER
voice = pilot_f_mil_m01
pilot = pilot_police_ace
level = 5

[Npc]
nickname = police_patriot_04
archetype = li_ship_fighter_light01_npc
loadout = li_p_li_fighter_loadout_d5_a
faction = li_p_grp
state_graph = FIGHTER
voice = pilot_f_mil_m01a
pilot = pilot_police_ace
level = 5

[Npc]
nickname = lsf_fighter_01
archetype = li_ship_fighter_medium01_npc
loadout = li_lsf_li_elite_loadout_d5_a
faction = li_lsf_grp
state_graph = FIGHTER
space_costume = li_captain_head, li_scrote_body, comm_ge_generic2
voice = pilot_f_mil_m02
pilot = pilot_military_ace
level = 5

[Npc]
nickname = lsf_fighter_02
archetype = li_ship_fighter_medium01_npc
loadout = li_lsf_li_elite_loadout_d5_a
faction = li_lsf_grp
state_graph = FIGHTER
voice = pilot_f_leg_f01
pilot = pilot_military_ace
level = 5

;; Attacker Wing01
[MsnNpc]
nickname = npc_police_patriot_01
npc = police_patriot_01
string_id = 0
;res str
; Cpt. Hunt
system = Li01
position = 55913.3, 0, -55014.8
pilot_job = assault_job
label = allies

[MsnNpc]
nickname = npc_police_patriot_02
npc = police_patriot_02
string_id = 0
;res str
; Lt. Smith 
system = Li01
position = 55963.3, 0, -55014.8
pilot_job = assault_job
label = allies

[MsnNpc]
nickname = npc_police_patriot_03
npc = police_patriot_03
string_id = 0
;res str
; Officer Rogers
system = Li01
position = 55883.3, 0, -55014.8
pilot_job = assault_job
label = allies

[MsnNpc]
nickname = npc_police_patriot_04
npc = police_patriot_04
string_id = 0
;res str
; Officer Tolouse
system = Li01
position = 55913.3, 0, -55014.8
pilot_job = assault_job
label = allies

;; Attacker Wing02
[MsnNpc]
nickname = npc_lsf_fighter_01
npc = lsf_fighter_01
string_id = 0
;res str
; Delta 1
system = Li01
position = 55459.4, 3500, -52332
pilot_job = assault_job
label = allies

[MsnNpc]
nickname = npc_lsf_fighter_02
npc = lsf_fighter_02
string_id = 0
;res str
; Delta 2
system = Li01
position = 55479.4, 3500, -52332
pilot_job = assault_job
label = allies

[MsnNpc]
nickname = npc_lsf_fighter_03
npc = lsf_fighter_01
string_id = 0
;res str
; Delta 3
system = Li01
position = 55439.4, 3500, -52332
pilot_job = assault_job
label = allies

[MsnNpc]
nickname = npc_lsf_fighter_04
npc = lsf_fighter_02
string_id = 0
;res str
; Delta 4
system = Li01
position = 55409.4, 3500, -52332
pilot_job = assault_job
label = allies

[MsnNpc]
nickname = npc_lsf_fighter_05
npc = lsf_fighter_01
string_id = 0
;res str
; Delta 5
system = Li01
position = 55479.4, 3540, -52332
pilot_job = assault_job
label = allies

[MsnNpc]
nickname = npc_lsf_fighter_06
npc = lsf_fighter_02
string_id = 0
;res str
; Delta 6
system = Li01
position = 55409.4, 3540, -52332
pilot_job = assault_job
label = allies

;; Enemy Defenders
[Npc]
nickname = Rogue_Wolfhound_m01
archetype = pi_ship_fighter_heavy01_npc
loadout = fc_lr_pi_elite_loadout_d5_a
faction = fc_lr_grp
state_graph = FIGHTER
space_costume = pi_pirate2_head, pi_pirate8_body, comm_br_guard
voice = pilot_f_ill_m01
pilot = pilot_pirate_ace
level = 5

[Npc]
nickname = Rogue_Wolfhound_m02
archetype = pi_ship_fighter_heavy01_npc
loadout = fc_lr_pi_elite_loadout_d5_d
faction = fc_lr_grp
state_graph = FIGHTER
space_costume = pi_pirate2_head, pi_pirate8_body, comm_br_guard
voice = pilot_f_ill_m01
pilot = pilot_pirate_ace
level = 5

[Npc]
nickname = Rogue_Wolfhound0_f01
archetype = pi_ship_fighter_heavy01_npc
loadout = fc_lr_pi_elite_loadout_d5_a
faction = fc_lr_grp
state_graph = FIGHTER
space_costume = li_newscaster_head_gen_hat, pl_female2_journeyman_body, comm_br_darcy_female
voice = pilot_f_leg_f01b
pilot = pilot_pirate_ace
level = 5

[Npc]
nickname = Rogue_Foxhound01_m01
archetype = pi_ship_fighter_medium01_npc
loadout = fc_lr_pi_elite2_loadout_d5_b
faction = fc_lr_grp
state_graph = FIGHTER
space_costume = ge_male4_head, pi_pirate8_body, comm_br_guard
voice = pilot_f_ill_m02
pilot = pilot_pirate_ace
level = 5

[Npc]
nickname = Rogue_Wolfhound_boss
archetype = pi_ship_fighter_heavy01_npc
loadout = fc_lr_pi_elite_loadout_d6_a
faction = fc_lr_grp
state_graph = FIGHTER
space_costume = ge_male1_head, pi_pirate8_body, comm_br_guard
voice = pilot_f_ill_m01b
pilot = pilot_pirate_ace
level = 6

;; Defender Wing 01
[MsnNpc]
nickname = npc_Rogue_Wolfhound_m01_01
npc = Rogue_Wolfhound_m01
string_id = 237044
system = Li01
position = 56360, 0, -52483.4
pilot_job = defend_job
label = hostiles

[MsnNpc]
nickname = npc_Rogue_Wolfhound_m01_02
npc = Rogue_Wolfhound0_f01
string_id = 237044
system = Li01
position = 56340, 20, -52483.4
pilot_job = defend_job
label = hostiles

[MsnNpc]
nickname = npc_Rogue_Wolfhound_m01_03
npc = Rogue_Wolfhound_m01
string_id = 237044
system = Li01
position = 56300, -10, -52483.4
pilot_job = defend_job
label = hostiles

[MsnNpc]
nickname = npc_Rogue_Wolfhound_m01_04
npc = Rogue_Wolfhound_m01
string_id = 237044
system = Li01
position = 56330, 0, -52443.4
pilot_job = defend_job
label = hostiles

[MsnNpc]
nickname = npc_Rogue_Wolfhound_m01_05
npc = Rogue_Wolfhound_m01
string_id = 237044
system = Li01
position = 56360, 100, -52483.4
pilot_job = defend_job
label = hostiles

[MsnNpc]
nickname = npc_Rogue_Wolfhound_m01_06
npc = Rogue_Wolfhound0_f01
string_id = 237044
system = Li01
position = 56340, 120, -52483.4
pilot_job = defend_job
label = hostiles

[MsnNpc]
nickname = npc_Rogue_Wolfhound_m01_07
npc = Rogue_Wolfhound_m01
string_id = 237044
system = Li01
position = 56300, -70, -52483.4
pilot_job = defend_job
label = hostiles

[MsnNpc]
nickname = npc_Rogue_Wolfhound_m01_08
npc = Rogue_Wolfhound_m01
string_id = 237044
system = Li01
position = 56330, 50, -52443.4
pilot_job = defend_job
label = hostiles

;; Defender Wing 02
[MsnNpc]
nickname = npc_Rogue_Foxhound01_m01_01
npc = Rogue_Foxhound01_m01
string_id = 460224
system = Li01
position = 56360, 0, -52483.4
pilot_job = assault_job
label = hostiles

[MsnNpc]
nickname = npc_Rogue_Foxhound01_m01_02
npc = Rogue_Foxhound01_m01
string_id = 460224
system = Li01
position = 56340, 20, -52483.4
pilot_job = assault_job
label = hostiles

[MsnNpc]
nickname = npc_Rogue_Foxhound01_m01_03
npc = Rogue_Foxhound01_m01
string_id = 460224
system = Li01
position = 56300, -10, -52483.4
pilot_job = assault_job
label = hostiles

[MsnNpc]
nickname = npc_Rogue_Foxhound01_m01_04
npc = Rogue_Foxhound01_m01
string_id = 460224
system = Li01
position = 56330, 0, -52443.4
pilot_job = assault_job
label = hostiles

[MsnNpc]
nickname = npc_Rogue_Foxhound01_m01_05
npc = Rogue_Foxhound01_m01
string_id = 460224
system = Li01
position = 56360, 0, -52483.4
pilot_job = assault_job
label = hostiles

[MsnNpc]
nickname = npc_Rogue_Foxhound01_m01_06
npc = Rogue_Foxhound01_m01
string_id = 460224
system = Li01
position = 56340, 20, -52483.4
pilot_job = assault_job
label = hostiles

[MsnNpc]
nickname = npc_Rogue_Foxhound01_m01_07
npc = Rogue_Foxhound01_m01
string_id = 460224
system = Li01
position = 56300, -10, -52483.4
pilot_job = assault_job
label = hostiles

[MsnNpc]
nickname = npc_Rogue_Foxhound01_m01_08
npc = Rogue_Foxhound01_m01
string_id = 460224
system = Li01
position = 56330, 0, -52443.4
pilot_job = assault_job
label = hostiles

;; Defender Wing 03
[MsnNpc]
nickname = npc_Rogue_Wolfhound_m02_01
npc = Rogue_Wolfhound_m02
string_id = 237044
system = Li01
position = 63360, 27.3, -52483.4
pilot_job = bomber_job
label = hostiles

[MsnNpc]
nickname = npc_Rogue_Wolfhound_m02_02
npc = Rogue_Wolfhound_m02
string_id = 237044
system = Li01
position = 63360, 27.3, -52443.4
pilot_job = bomber_job
label = hostiles

[MsnNpc]
nickname = npc_Rogue_Wolfhound_m02_03
npc = Rogue_Wolfhound_m02
string_id = 237044
system = Li01
position = 63360, 27.3, -52533.4
pilot_job = bomber_job
label = hostiles

;; Defender Boss
[MsnNpc]
nickname = npc_Rogue_Wolfhound_boss
npc = Rogue_Wolfhound_boss
string_id = 0
;res str
; "Grim Reaper"
system = Li01
position = 56360, 5000, -52332
pilot_job = assault_job
label = Boss

[MsnNpc]
nickname = npc_Rogue_Foxhound_escort01
npc = Rogue_Foxhound01_m01
string_id = 460224
system = Li01
position = 56330, 5000, -52332
pilot_job = assault_job
label = hostiles

[MsnNpc]
nickname = npc_Rogue_Foxhound_escort02
npc = Rogue_Foxhound01_m01
string_id = 460224
system = Li01
position = 56390, 5000, -52332
pilot_job = assault_job
label = hostiles

;; -- SOLARS --

;; Defender Base
[MsnSolar]
nickname = Defender_Base
string_id = 0
;res str
; Rogue Base
archetype = mission_depot
system = Li01
loadout = mission_pi_loadout_solar_depot01
position = 55998.1, 0, -52421.5
rotate = 0, 30, 0
faction = fc_lr_grp
label = hostiles

[MsnSolar]
nickname = Defender_medium_wp01
string_id = 524295
archetype = wplatform
loadout = cv_loadout_solar_weapon_platform01
system = Li01
position = 55715.7, 0, -52427.7
rotate = 0, 0, 0
faction = fc_lr_grp
label = hostiles

[MsnSolar]
nickname = Defender_medium_wp02
string_id = 524295
archetype = wplatform
loadout = cv_loadout_solar_weapon_platform01
system = Li01
position = 56013.2, 0, -52169
rotate = 0, 0, 0
faction = fc_lr_grp
label = hostiles

[MsnSolar]
nickname = Defender_medium_wp03
string_id = 524295
archetype = wplatform
loadout = cv_loadout_solar_weapon_platform01
system = Li01
position = 56257.6, 0, -52601.2
rotate = 0, 0, 0
faction = fc_lr_grp
label = hostiles

;; ###############################
;; ---------FORMATIONS------------
;; ###############################

[MsnFormation]
nickname = AttackWing01
position = 55360, 0, -56332
orientation = 0, 0, 0, 0
formation = fighter_basic
ship = npc_police_patriot_01
ship = npc_police_patriot_02
ship = npc_police_patriot_03
ship = npc_police_patriot_04

[MsnFormation]
nickname = AttackWing02
position = 55459.4, 0, -52332
orientation = 0, 180, 0, 0
formation = fighter_basic
ship = npc_lsf_fighter_01
ship = npc_lsf_fighter_02
ship = npc_lsf_fighter_03
ship = npc_lsf_fighter_04
ship = npc_lsf_fighter_05
ship = npc_lsf_fighter_06

[MsnFormation]
nickname = DefenderWing01
position = 56360, 0, -52483.4
orientation = 0, 0, 0, 0
formation = delta_high
ship = npc_Rogue_Wolfhound_m01_01
ship = npc_Rogue_Wolfhound_m01_02
ship = npc_Rogue_Wolfhound_m01_03
ship = npc_Rogue_Wolfhound_m01_04
ship = npc_Rogue_Wolfhound_m01_05
ship = npc_Rogue_Wolfhound_m01_06
ship = npc_Rogue_Wolfhound_m01_07
ship = npc_Rogue_Wolfhound_m01_08

[MsnFormation]
nickname = DefenderWing02
position = 56360, 27.3, -44483.4
orientation = 0, 0, 0, 0
formation = delta_high
ship = npc_Rogue_Foxhound01_m01_01
ship = npc_Rogue_Foxhound01_m01_02
ship = npc_Rogue_Foxhound01_m01_03
ship = npc_Rogue_Foxhound01_m01_04
ship = npc_Rogue_Foxhound01_m01_05
ship = npc_Rogue_Foxhound01_m01_06
ship = npc_Rogue_Foxhound01_m01_07
ship = npc_Rogue_Foxhound01_m01_08

[MsnFormation]
nickname = DefenderWing03
position = 63360, 27.3, -52483.4
orientation = 0, 75, 0, 0
formation = delta_high
ship = npc_Rogue_Wolfhound_m02_01
ship = npc_Rogue_Wolfhound_m02_02
ship = npc_Rogue_Wolfhound_m02_03

[MsnFormation]
nickname = DefenderWing04
position = 56360, 5000, -52332
orientation = -180, 15, 180, 0
formation = delta_high
ship = npc_Rogue_Wolfhound_boss
ship = npc_Rogue_Foxhound_escort01
ship = npc_Rogue_Foxhound_escort02

;; ###############################
;; ------------DIALOGS------------
;; ###############################


;; Dialogs are currently no recognized from the parser, you need to fill ID´s yourself!
[Dialog]
nickname = dialog_entering_mission_zone
etherSender = MissionCommission, mc_leg_m01, 462013, li_sales_head_hat, sc_scientist3_body, 
etherSender = Attacker, pilot_f_mil_m02, 462038, li_sales_head_hat, li_male_guard_body, comm_ge_generic2
line = coms_entering_zone_attacker, players, Attacker, gcs_misc_thisis+, gcs_refer_faction_li_p_short, gcs_refer_formationdesig_13, gcs_misc_number_1-, gcs_combat_askforhelp_04-, 1.0, true
line = coms_entering_zone_mc, players, MissionCommission, rmb_canseeinstallation_01-, 0.1, false

[Dialog]
nickname = dialog_close_to_objective
line = coms_close_to_objective_attacker, players, npc_police_patriot_01, gcs_combat_order_engage_02-, 0.5, true
line = coms_close_to_objective_defender, players, npc_Rogue_Wolfhound_m01_01, rms_defendsolar_03-, 0.5, true

[Dialog]
nickname = dialog_reinforcements_defender01
etherSender = NeuralNet, NNVoice, 462027
line = coms_reinforcements_defender01, players, NeuralNet, warning, info_incoming_hostiles, 0.5, false

[Dialog]
nickname = dialog_reinforcements_defender02
etherSender = NeuralNet, NNVoice, 462027
line = coms_reinforcements_defender02, players, NeuralNet, warning, info_incoming_hostiles, 0.5, false

[Dialog]
nickname = dialog_reinforcements_defender03
etherSender = NeuralNet, NNVoice, 462027
line = coms_reinforcements_defender03, players, NeuralNet, warning, info_incoming_hostiles, 0.5, false

[Dialog]
nickname = dialog_reinforcements_defender04
etherSender = NeuralNet, NNVoice, 462027
line = coms_reinforcements_defender04, players, npc_Rogue_Wolfhound_boss, rms_smallshiptaunt_04-, 0.5, false
line = coms_reinforcements_defender03, players, NeuralNet, danger, info_incoming_hostiles, 0.5, false

[Dialog]
nickname = dialog_reinforcements_attacker01
etherSender = Attacker2, pilot_f_mil_m02, 462006, li_captain_head, li_scrote_body, comm_ge_generic2
line = coms_reinforcements_attacker01, players, Attacker2, gcs_combat_offerhelp_04-, 0.5, false

[Dialog]
nickname = dialog_mission_success
etherSender = MissionCommission, mc_leg_m01, 462013, li_sales_head_hat, sc_scientist3_body, 
line = coms_mission_success_mc, players, MissionCommission, rmb_success_solar_01-, 0.1, false

[Dialog]
nickname = dialog_deserteurs_warning
etherSender = MissionCommission, mc_leg_m01, 462013, li_sales_head_hat, sc_scientist3_body, 
line = coms_deserteurs_mc, ACTIVATOR, MissionCommission, rmb_outofbattle_02-, 0.5, false

[Dialog]
nickname = dialog_deserteurs_returning
etherSender = MissionCommission, mc_leg_m01, 462013, li_sales_head_hat, sc_scientist3_body, 
line = coms_deserteurs_returning_mc, ACTIVATOR, MissionCommission, rmb_reenterbattle_02-, 0.5, false

[Dialog]
nickname = dialog_deserteurs_mission_fail
etherSender = MissionCommission, mc_leg_m01, 462013, li_sales_head_hat, sc_scientist3_body, 
line = coms_mission_success_mc, ACTIVATOR, MissionCommission, rmb_fail_combatrange_02-, 0.1, false

[Dialog]
nickname = dialog_mission_fail_deserteurs
etherSender = MissionCommission, mc_leg_m01, 462013, li_sales_head_hat, sc_scientist3_body, 
line = coms_mission_failed, deserteurs, MissionCommission, rmb_fail_outoflives_02-, 0.1, false

[Dialog]
nickname = dialog_mission_fail_dead
etherSender = MissionCommission, mc_leg_m01, 462013, li_sales_head_hat, sc_scientist3_body, 
line = coms_mission_failed, dead, MissionCommission, rmb_fail_outoflives_02-, 0.1, false


;; ###############################
;; --------OBJECTIVE LISTS--------
;; ###############################

;; Fly to Mission Zone
[ObjList]
nickname = ol_fly_to_mission_zone
GotoVec = goto_cruise, 55998.1, 0, -52421.5, 1500, -1
BreakFormation = no_params

[ObjList]
nickname = ol_fly_to_mission_zone_bomber
GotoVec = goto_cruise, 55998.1, 0, -52421.5, 4000, -1
BreakFormation = no_params

[ObjList]
nickname = ol_back_to_base
GotoVec = goto_cruise, 50655, 0, -77595, 2000, -1

;; ###############################
;; -------TRIGGER SECTION---------
;; ###############################

;; ONLY FOR TESTING
[Trigger]
nickname = start_mission_testzone
repeatable = Auto
initstate = ACTIVE
Cnd_DistVec = STRANGER, 50655, 0, -77595, 2500, Li01, INSIDE
Act_AddLabel = ACTIVATOR, players
Act_AddLabel = ACTIVATOR, Not_Heard_Update
Act_ActTrig = start_mission_mission_update

[Trigger]
nickname = start_mission_mission_update
repeatable = Manual
Cnd_Timer = 5
Act_EtherComm = coms_mission_update, Not_Heard_Update, mc_leg_m01, rmb_solarsatwaypoint_01-, 0, false, 0, li_sales_head_hat, sc_scientist3_body
;res str
; Mission Comission
Act_SetNNObj = players, 0, Li01, 55998.1, 0, -52421.5, false
;res str
; Fly to the Mission Waypoint
Act_RemoveLabel = Not_Heard_Update, Not_Heard_Update

;; -------------------------------
;; ENTERING MISSION ZONE
;; -------------------------------

[Trigger]
nickname = entering_mission_zone
initstate = ACTIVE
Cnd_DistVec = players, 55998.1, 0, -52421.5, 10000, Li01, INSIDE
; Spawn NPC´s
Act_SpawnFormation = AttackWing01
Act_SpawnFormation = DefenderWing01
; Order NPC´s to fly to Mission Zone
; - Attacker
Act_GiveObjList = npc_police_patriot_01, ol_fly_to_mission_zone
Act_GiveObjList = npc_police_patriot_02, ol_fly_to_mission_zone
Act_GiveObjList = npc_police_patriot_03, ol_fly_to_mission_zone
Act_GiveObjList = npc_police_patriot_04, ol_fly_to_mission_zone
; - Defender
Act_GiveObjList = npc_Rogue_Wolfhound_m01_01, ol_fly_to_mission_zone
Act_GiveObjList = npc_Rogue_Wolfhound_m01_02, ol_fly_to_mission_zone
Act_GiveObjList = npc_Rogue_Wolfhound_m01_03, ol_fly_to_mission_zone
Act_GiveObjList = npc_Rogue_Wolfhound_m01_04, ol_fly_to_mission_zone
Act_GiveObjList = npc_Rogue_Wolfhound_m01_05, ol_fly_to_mission_zone
Act_GiveObjList = npc_Rogue_Wolfhound_m01_06, ol_fly_to_mission_zone
Act_GiveObjList = npc_Rogue_Wolfhound_m01_07, ol_fly_to_mission_zone
Act_GiveObjList = npc_Rogue_Wolfhound_m01_08, ol_fly_to_mission_zone
; Spawn Solars
Act_SpawnSolar = Defender_Base
; Change Music
Act_PlayMusic = players, music_li_space, music_li_danger, music_li_battle, music_li_danger02, 1, true
; Start Dialog
Act_StartDialog = dialog_entering_mission_zone
Act_ActTrig = close_to_mission_zone
Act_ActTrig = player_kia

;; -------------------------------
;; CLOSE TO OBJECTIVE
;; -------------------------------

[Trigger]
nickname = close_to_mission_zone
Cnd_DistVec = players, 55998.1, 0, -52421.5, 3000, Li01, INSIDE
; Start Dialog
Act_StartDialog = dialog_close_to_objective
; Update Waypoint
Act_SetNNObj = players, 0, Li01, 55998.1, 0, -52421.5, false, Defender_Base
;res str
; Destroy Rogue Base and Ships
Act_PlayMusic = players, music_li_space, music_li_danger, music_li_battle, music_reveal_enemy_position_of_strength, 1, true
; Activate Checks for Deserteurs
Act_AddLabel = players, Not_Heard_Warning
Act_ActTrig = deserteurs_warning
Act_ActTrig = deserteurs_warning_returning
Act_ActTrig = deserteurs_flew_away
Act_ActTrig = Mission_Objective_Complete
Act_ActTrig = Mission_Objective_failed
Act_ActTrig = spawn_first_wave
Act_ActTrig = spawn_second_wave
; Boss spawn (25% chance)
Act_ActTrig = spawn_boss_wave, 0.25
; Additional Attacker spawn (50%)
Act_ActTrig = spawn_second_attacker_wave, 0.5
; Make NPC´s stay in Combat Zone if no target nearby
Act_ActTrig = send_defender_back
Act_ActTrig = send_boss_back
Act_ActTrig = send_attackers_back

;; -------------------------------
;; SPAWN REINFORCEMENTS 
;; -------------------------------

;; First Wave
[Trigger]
nickname = spawn_first_wave
Cnd_Destroyed = hostiles, 5
Act_SpawnFormation = DefenderWing02
Act_ActTrig = Set_first_wave_OL
Act_StartDialog = dialog_reinforcements_defender02

[Trigger]
nickname = Set_first_wave_OL
Cnd_True = no_params
Act_GiveObjList = npc_Rogue_Foxhound01_m01_01, ol_fly_to_mission_zone
Act_GiveObjList = npc_Rogue_Foxhound01_m01_02, ol_fly_to_mission_zone
Act_GiveObjList = npc_Rogue_Foxhound01_m01_03, ol_fly_to_mission_zone
Act_GiveObjList = npc_Rogue_Foxhound01_m01_04, ol_fly_to_mission_zone
Act_GiveObjList = npc_Rogue_Foxhound01_m01_05, ol_fly_to_mission_zone
Act_GiveObjList = npc_Rogue_Foxhound01_m01_06, ol_fly_to_mission_zone
Act_GiveObjList = npc_Rogue_Foxhound01_m01_07, ol_fly_to_mission_zone
Act_GiveObjList = npc_Rogue_Foxhound01_m01_08, ol_fly_to_mission_zone

;; Second Wave
[Trigger]
nickname = spawn_second_wave
Cnd_Destroyed = hostiles, 9
Act_SpawnFormation = DefenderWing03
Act_ActTrig = Set_second_wave_OL
Act_StartDialog = dialog_reinforcements_defender03

[Trigger]
nickname = Set_second_wave_OL
Cnd_True = no_params
Act_GiveObjList = npc_Rogue_Wolfhound_m02_01, ol_fly_to_mission_zone
Act_GiveObjList = npc_Rogue_Wolfhound_m02_02, ol_fly_to_mission_zone
Act_GiveObjList = npc_Rogue_Wolfhound_m02_03, ol_fly_to_mission_zone

;; Boss (25% Chance)
[Trigger]
nickname = spawn_boss_wave
Cnd_Destroyed = hostiles, 13
Act_SpawnFormation = DefenderWing04
Act_ActTrig = Set_boss_wave_OL
Act_StartDialog = dialog_reinforcements_defender04
Act_ActTrig = Bonus_Bounty

[Trigger]
nickname = Set_boss_wave_OL
Cnd_True = no_params
Act_GiveObjList = npc_Rogue_Wolfhound_boss, ol_fly_to_mission_zone
Act_GiveObjList = npc_Rogue_Foxhound_escort01, ol_fly_to_mission_zone
Act_GiveObjList = npc_Rogue_Foxhound_escort02, ol_fly_to_mission_zone

;; Second Attacke Wave (50% Chance)
[Trigger]
nickname = spawn_second_attacker_wave
Cnd_Timer = 60
Act_SpawnFormation = AttackWing02
Act_ActTrig = Set_second_attackerwave_OL
Act_StartDialog = dialog_reinforcements_attacker01

[Trigger]
nickname = Set_second_attackerwave_OL
Cnd_True = no_params
Act_GiveObjList = npc_lsf_fighter_01, ol_fly_to_mission_zone_bomber
Act_GiveObjList = npc_lsf_fighter_02, ol_fly_to_mission_zone_bomber
Act_GiveObjList = npc_lsf_fighter_03, ol_fly_to_mission_zone_bomber
Act_GiveObjList = npc_lsf_fighter_04, ol_fly_to_mission_zone_bomber
Act_GiveObjList = npc_lsf_fighter_05, ol_fly_to_mission_zone_bomber
Act_GiveObjList = npc_lsf_fighter_06, ol_fly_to_mission_zone_bomber

;; -------------------------------
;; PULL NPC´s BACK IF OUTSIDE
;; -------------------------------

[Trigger]
nickname = send_defender_back
repeatable = Auto
Cnd_DistVec = hostiles, 55998.1, 0, -52421.5, 6000, Li01, OUTSIDE
Act_GiveObjList = ACTIVATOR, ol_fly_to_mission_zone

[Trigger]
nickname = send_boss_back
repeatable = Auto
Cnd_DistVec = Boss , 55998.1, 0, -52421.5, 6000, Li01, OUTSIDE
Act_GiveObjList = ACTIVATOR, ol_fly_to_mission_zone

[Trigger]
nickname = send_attackers_back
repeatable = Auto
Cnd_DistVec = allies, 55998.1, 0, -52421.5, 6000, Li01, OUTSIDE
Act_GiveObjList = ACTIVATOR, ol_fly_to_mission_zone

;; -------------------------------
;; DESERTEURS (WARNING)
;; -------------------------------

;; Player is about to leave the Mission Area!
[Trigger]
nickname = deserteurs_warning
repeatable = Auto
Cnd_DistVec = Not_Heard_Warning, 55998.1, 0, -52421.5, 7500, Li01, OUTSIDE
Act_StartDialog = dialog_deserteurs_warning
Act_SetNNObj = ACTIVATOR, 0, Li01, 55998.1, 0, -52421.5
;res str
; Warning - Leaving Combat Area!
Act_AddLabel = ACTIVATOR, Heard_Warning
Act_RemoveLabel = ACTIVATOR, Not_Heard_Warning

;; Player is returning to Mission Area!
[Trigger]
nickname = deserteurs_warning_returning
repeatable = Auto
Cnd_DistVec = Heard_Warning, 55998.1, 0, -52421.5, 4000, Li01, INSIDE
Act_AddLabel= ACTIVATOR, Not_Heard_Warning
Act_RemoveLabel = ACTIVATOR, Heard_Warning
Act_StartDialog = dialog_deserteurs_returning
Act_SetNNObj = ACTIVATOR, 0, Li01, 55998.1, 0, -52421.5, false, Defender_Base
;res str
; Destroy Rogue Base and Ships

;; -------------------------------
;; DESERTEURS (MISSION FAILURE)
;; -------------------------------

[Trigger]
nickname = deserteurs_flew_away
repeatable = Auto
Cnd_DistVec = Heard_Warning, 55998.1, 0, -52421.5, 12000, Li01, OUTSIDE
Act_StartDialog = dialog_deserteurs_mission_fail
Act_AddLabel = ACTIVATOR, deserteurs
Act_RemoveLabel = ACTIVATOR, players
Act_SetNNObj = ACTIVATOR, 0
;res str
; You fled the Mission!
Act_AdjRep = deserteurs, li_p_grp, MissionFailure
Act_AdjRep = deserteurs, li_lsf_grp, MissionFailure

;; -------------------------------
;; PLAYER DEAD (MISSION FAILURE)
;; -------------------------------

[Trigger]
nickname = player_kia
repeatable = Auto
Cnd_BaseEnter = players
Act_AddLabel = ACTIVATOR, dead
Act_RemoveLabel = ACTIVATOR, players
Act_SetNNObj = ACTIVATOR, 0
;res str
; Your ship has been destroyed!
Act_AdjRep = dead, li_p_grp, MissionFailure
Act_AdjRep = dead, li_lsf_grp, MissionFailure

;; -------------------------------
;; MISSION OBJECTIVE (MISSION COMPLETE)
;; -------------------------------

[Trigger]
nickname = Mission_Objective_Complete
Cnd_Destroyed = hostiles, -1
Act_StartDialog = dialog_mission_success
Act_AdjAcct = players, 20000000, true
Act_AdjRep = players, li_p_grp, 0.25
Act_AdjRep = players, li_lsf_grp, 0.25
Act_SetNNObj = players, 1231
Act_PlayMusic = players, , , , music_victory, 0, true
Act_SetNNObj = deserteurs, 462019
;res str
; Mission Over
Act_SetNNObj = dead, 462020
;res str
; Mission Over
Act_ActTrig = Cleaning_up_repeatables

;; -------------------------------
;; MISSION OBJECTIVE (BONUS)
;; -------------------------------

[Trigger]
nickname = Bonus_Bounty
Cnd_Destroyed = Boss, -1
Act_AdjAcct = players, 2000000, true
Act_SetNNObj = players, 462056
;res str
; Bounty Received

;; -------------------------------
;; MISSION OBJECTIVE (MISSION FAILED)
;; -------------------------------

[Trigger]
nickname = Mission_Objective_failed
Cnd_Destroyed = players, -1
Act_StartDialog = dialog_mission_fail_deserteurs
Act_StartDialog = dialog_mission_fail_dead
Act_SetNNObj = players, 0
;res str
; Mission Over (Failure)
Act_SetNNObj = dead, 0
;res str
; Mission Over (Failure)
Act_SetNNObj = deserteurs, 0
;res str
; Mission Over (Failure)
Act_ActTrig = Cleaning_up_repeatables

;; -------------------------------
;; CLEANING UP
;; -------------------------------

[Trigger]
nickname = Cleaning_up_repeatables
Cnd_True = no_params
Act_RemoveLabel = dead, dead
Act_RemoveLabel = players, players
Act_RemoveLabel = deserteurs, deserteurs
Act_RemoveLabel = Not_Heard_Update, Not_Heard_Update
Act_RemoveLabel = Heard_Warning, Heard_Warning
Act_RemoveLabel = Not_Heard_Warning , Not_Heard_Warning
Act_DeactTrig = deserteurs_warning
Act_DeactTrig = deserteurs_warning_returning
Act_DeactTrig = deserteurs_flew_away
Act_DeactTrig = start_mission_testzone
Act_ActTrig = end_mission_delayed

;; ###############################
;; ---------END SECTION-----------
;; ###############################

;; Delayed Mission End (30s)
[Trigger]
nickname = end_mission_delayed
Cnd_Timer = 30
Act_EndMission = no_params
