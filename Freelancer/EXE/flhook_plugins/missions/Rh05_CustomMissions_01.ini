;; Libety Custom Mission - VS Duamann (Dresden)

;; ###############################
;; --------MISSION HEADER---------
;; ###############################

[Mission]
nickname = Rh05_Custom_Mission_01
offer_type = DestroyInstallation
offer_target_system = Rh05
offer_faction = fc_rh_grp
offer_reward = 20000000
; offer_bases = Rh05_04_base
reoffer = Always
reoffer_delay = 300
offer_title_id = 0
;res str
; Destroy Installation
offer_description_id = 0
;res str
; Difficulty Level: 5-30
; Enemy Shiptypes: Fighter, Gunboats
; Reward: 20.000.000$
; Destination: Dresden, 4C
; Objective: Eliminate all Enemy Vessels in the Area
; Combat Zone: 7.5K from Target
; Available Ships: 5
; 
; Bonus Bounty for "Silber Team": 5.000.000$
; 
; One of our squadrons has managed to knock a Daumann asteroid miner off course and disable its cruise engines. The crew refuses to abandon the ship. We need help eliminating the miner. If the miner is destroyed, you will receive a lot of money and the satisfaction of having dealt Daumann a heavy blow.
; 
; Reoffer after Mission has ended: 5 Minutes

;; ###############################
;; ------MISSION DESCRIPTION------
;; ###############################

; 	Players need to destroy the Asteroid Miner and all other enemies.

; Reward:
;	20.000.000$

;; ###############################
;; ------------LABELS-------------
;; ###############################

;	players				-	Player who are currently assigned to the mission	
;	hostiles			-	Enemy NPC´s or Solars
;	allies				-	Friendly NPC´s or Solars
; 	Boss				-	Enemy Strong NPC´s
;	Not_Heard_Warning	-	Players does not heard Warning (Leaving Combat Area)
;	Heard_Warning		-	Players heard Warning (Leaving Combat Area)
;   Start_On_base		-	Players who are docked during the start of the Mission
; 	Start_in_Space		-	Players who are in space during the start of the Mission
;	Launching			-	Docked Players who are launching into space
;	alive				-	Players who are alive in the Missions Area or during the start of the mission
;	dead				-	Player who are died during the mission
;   Target				-	Target Object

;; ###############################
;; -----NPC AND SOLAR SECTION-----
;; ###############################

;; -- NPC´S --

;; Attackers
[Npc]
nickname = Hessians_Foxhound_01
archetype = pi_ship_fighter_medium01_npc
loadout = fc_rh_pi_elite2_loadout_d5_b
faction = fc_rh_grp
state_graph = FIGHTER
space_costume = ge_male1_head, pi_pirate2_body, comm_pi_pirate
voice = pilot_f_ill_m02
pilot = pilot_pirate_ace
level = 5

[Npc]
nickname = Hessians_Foxhound_02
archetype = pi_ship_fighter_medium01_npc
loadout = fc_rh_pi_elite2_loadout_d5_a
faction = fc_rh_grp
state_graph = FIGHTER
voice = pilot_f_ill_m01
pilot = pilot_pirate_ace
level = 5

[Npc]
nickname = Hessians_Foxhound_03
archetype = pi_ship_fighter_medium01_npc
loadout = fc_rh_pi_elite2_loadout_d5_b
faction = fc_rh_grp
state_graph = FIGHTER
voice = pilot_c_ill_f01
pilot = pilot_pirate_ace
level = 5

[Npc]
nickname = Hessians_Foxhound_04
archetype = pi_ship_fighter_medium01_npc
loadout = fc_rh_pi_elite2_loadout_d5_d
faction = fc_rh_grp
state_graph = FIGHTER
space_costume = pi_pirate1_head, pi_pirate2_body, comm_br_darcy
voice = pilot_c_ill_m02
pilot = pilot_pirate_ace
level = 5

[Npc]
nickname = Hessians_Bloodhound_01
archetype = pi_ship_fighter_light01_npc
loadout = fc_rh_pi_fighter_loadout_d5_a
faction = fc_rh_grp
state_graph = FIGHTER
voice = pilot_f_ill_m02
pilot = pilot_pirate_ace
level = 5

;; Attacker Wing01
[MsnNpc]
nickname = npc_Hessians_Foxhound_01_01
npc = Hessians_Foxhound_01
string_id = 0
;res str rot1
; Rot 1
system = Rh05
position = -18024.4, 0, -6200
pilot_job = assault_leader_job
label = allies

[MsnNpc]
nickname = npc_Hessians_Foxhound_01_02
npc = Hessians_Foxhound_02
string_id = 0
;res str
; Rot 2
system = Rh05
position = -18124.4, 0, -6200
pilot_job = assault_leader_job
label = allies

[MsnNpc]
nickname = npc_Hessians_Foxhound_01_03
npc = Hessians_Foxhound_03
string_id = 0
;res str
; Rot 3
system = Rh05
position = -17924.4, 0, -6200
pilot_job = assault_leader_job
label = allies

[MsnNpc]
nickname = npc_Hessians_Foxhound_01_04
npc = Hessians_Foxhound_02
string_id = 0
;res str
; Rot 4
system = Rh05
position = -18024.4, 100, -6200
pilot_job = assault_leader_job
label = allies

;; Attacker Wing02
[MsnNpc]
nickname = npc_Hessians_Foxhound_04_01
npc = Hessians_Foxhound_04
string_id = 0
;res str gruen1
; Grün 1
system = Rh05
position = -17432.6, 0, -7200
pilot_job = bomber_leader_job
label = allies

[MsnNpc]
nickname = npc_Hessians_Bloodhound_01_01
npc = Hessians_Bloodhound_01
string_id = 0
;res str
; Grün 2
system = Rh05
position = -17432.6, 100, -7200
pilot_job = assault_leader_job
label = allies

[MsnNpc]
nickname = npc_Hessians_Bloodhound_01_02
npc = Hessians_Bloodhound_01
string_id = 0
;res str
; Grün 3
system = Rh05
position = -17332.6, 0, -7200
pilot_job = assault_leader_job
label = allies

[MsnNpc]
nickname = npc_Hessians_Bloodhound_01_03
npc = Hessians_Bloodhound_01
string_id = 0
;res str
; Grün 4
system = Rh05
position = -17532.6, 0, -7200
pilot_job = assault_leader_job
label = allies

;; Enemy Defenders
[Npc]
nickname = Daumann_Falcon_01
archetype = cv_ship_fighter_medium01_npc
loadout = co_ge_fighter5_loadout_d5_a
faction = co_khc_grp
state_graph = FIGHTER
space_costume = li_newscaster_head_gen_hat, br_karina_body, comm_rh_reichman_female
voice = pilot_f_leg_f01
pilot = pilot_company_ace
level = 5

[Npc]
nickname = Daumann_Falcon_02
archetype = cv_ship_fighter_medium01_npc
loadout = co_ge_fighter5_loadout_d5_a
faction = co_khc_grp
state_graph = FIGHTER
space_costume = rh_sales_head, rh_shipdealer_body, comm_rh_reichman
voice = pilot_f_leg_m01b
pilot = pilot_company_ace
level = 5

[Npc]
nickname = Daumann_Eagle_01
archetype = cv_ship_fighter_heavy01_npc
loadout = co_ge_fighter6_loadout_d5_b
faction = co_khc_grp
state_graph = FIGHTER
space_costume = li_newscaster_head_gen_hat, pl_female2_journeyman_body, comm_br_darcy_female
voice = pilot_f_leg_f01
pilot = pilot_company_ace
level = 5

[Npc]
nickname = Daumann_Eagle_02
archetype = cv_ship_fighter_heavy01_npc
loadout = co_ge_fighter6_loadout_d5_b
faction = co_khc_grp
state_graph = FIGHTER
voice = pilot_f_ill_m02
pilot = pilot_company_ace
level = 5

[Npc]
nickname = Military_Valkyrie_01
archetype = rh_ship_fighter_medium01_npc
loadout = rh_n_rh_elite_loadout_d5_a
faction = rh_n_grp
state_graph = FIGHTER
voice = pilot_c_leg_m01
pilot = pilot_military_ace
level = 5

[Npc]
nickname = Military_Fenrir_01
archetype = rh_ship_fighter_heavy01_npc
loadout = rh_n_rh_elite2_loadout_d5_a
faction = rh_n_grp
state_graph = FIGHTER
space_costume = rh_captain_head, rh_male_elite_body, comm_rh_wilham
voice = pilot_c_leg_m01
pilot = pilot_military_ace
level = 5

[Npc]
nickname = Military_Fenrir_Boss
archetype = rh_ship_fighter_heavy01_npc
loadout = rh_n_rh_elite2_loadout_d6_a
faction = rh_n_grp
state_graph = FIGHTER
space_costume = rh_newscaster_head_gen_hat, rh_female_elite_body, comm_rh_wilham_female
voice = pilot_f_leg_f01
pilot = pilot_military_ace
level = 6

[Npc]
nickname = Military_Gunboat
archetype = rh_ship_gunboat01_npc
loadout = rh_n_rh_gunboat
faction = rh_n_grp
state_graph = FIGHTER
space_costume = sc_scientist1_head_hat, rh_male_elite_body, comm_rh_wilham
voice = pilot_f_mil_m02
pilot = gunboat_default
level = 30

;; Defender Wing 01
[MsnNpc]
nickname = npc_Daumann_Falcon_01_01
npc = Daumann_Falcon_01
string_id = 0
;res str falcon_Rh05_CustomMissions_01
; Falcon
system = Rh05
position = -17924.4, 0, -5086.2
pilot_job = defend_leader_job
label = hostiles

[MsnNpc]
nickname = npc_Daumann_Falcon_01_02
npc = Daumann_Falcon_02
string_id = 0
;res $falcon_Rh05_CustomMissions_01
system = Rh05
position = -18024.4, 0, -5086.2
pilot_job = defend_leader_job
label = hostiles

[MsnNpc]
nickname = npc_Daumann_Falcon_01_03
npc = Daumann_Falcon_01
string_id = 0
;res $falcon_Rh05_CustomMissions_01
system = Rh05
position = -18144.4, 0, -5086.2
pilot_job = defend_leader_job
label = hostiles

[MsnNpc]
nickname = npc_Daumann_Falcon_01_04
npc = Daumann_Falcon_02
string_id = 0
;res $falcon_Rh05_CustomMissions_01
system = Rh05
position = -18024.4, 0, -4880.1
pilot_job = defend_leader_job
label = hostiles

[MsnNpc]
nickname = npc_Daumann_Falcon_01_05
npc = Daumann_Falcon_01
string_id = 0
;res $falcon_Rh05_CustomMissions_01
system = Rh05
position = -18216.9, 0, -4977.3
pilot_job = defend_leader_job
label = hostiles

[MsnNpc]
nickname = npc_Daumann_Falcon_01_06
npc = Daumann_Falcon_02
string_id = 0
;res $falcon_Rh05_CustomMissions_01
system = Rh05
position = -18033.8, 100, -4977.3
pilot_job = defend_leader_job
label = hostiles

;; Defender Wing 02
[MsnNpc]
nickname = npc_Daumann_Eagle_01_01
npc = Daumann_Eagle_01
string_id = 0
;res str eagle_Rh05_CustomMissions_01
; Eagle
system = Rh05
position = -17835.5, 0, -1000
pilot_job = assault_job
label = hostiles

[MsnNpc]
nickname = npc_Daumann_Eagle_01_02
npc = Daumann_Eagle_02
string_id = 0
;res $eagle_Rh05_CustomMissions_01
system = Rh05
position = -17935.5, 0, -1000
pilot_job = assault_leader_job
label = hostiles

[MsnNpc]
nickname = npc_Daumann_Eagle_01_03
npc = Daumann_Eagle_01
string_id = 0
;res $eagle_Rh05_CustomMissions_01
system = Rh05
position = -17735.5, 0, -1000
pilot_job = assault_leader_job
label = hostiles

[MsnNpc]
nickname = npc_Daumann_Eagle_01_04
npc = Daumann_Eagle_02
string_id = 0
;res $eagle_Rh05_CustomMissions_01
system = Rh05
position = -17835.5, 100, -1000
pilot_job = assault_leader_job
label = hostiles

[MsnNpc]
nickname = npc_Daumann_Eagle_01_05
npc = Daumann_Eagle_01
string_id = 0
;res $eagle_Rh05_CustomMissions_01
system = Rh05
position = -17835.5, -100, -1000
pilot_job = assault_leader_job
label = hostiles

[MsnNpc]
nickname = npc_Daumann_Eagle_01_06
npc = Daumann_Eagle_02
string_id = 0
;res $eagle_Rh05_CustomMissions_01
system = Rh05
position = -17835.5, 0, -1100
pilot_job = assault_leader_job
label = hostiles

[MsnNpc]
nickname = npc_Daumann_Eagle_01_07
npc = Daumann_Eagle_01
string_id = 0
;res $eagle_Rh05_CustomMissions_01
system = Rh05
position = -17835.5, 0, -900
pilot_job = assault_leader_job
label = hostiles

[MsnNpc]
nickname = npc_Daumann_Eagle_01_08
npc = Daumann_Eagle_01
string_id = 0
;res $eagle_Rh05_CustomMissions_01
system = Rh05
position = -17835.5, 100, -1100
pilot_job = assault_leader_job
label = hostiles

;; Defender Wing 03
[MsnNpc]
nickname = npc_Military_Valkyrie_01_01
npc = Military_Valkyrie_01
string_id = 0
;res str valkyrie_Rh05_CustomMissions_01
; Valkyrie
system = Rh05
position = -14622.8, 2.2, -1882.6
pilot_job = assault_leader_job
label = hostiles

[MsnNpc]
nickname = npc_Military_Valkyrie_01_02
npc = Military_Valkyrie_01
string_id = 0
;res $valkyrie_Rh05_CustomMissions_01
system = Rh05
position = -14722.8, 2.2, -1882.6
pilot_job = assault_leader_job
label = hostiles

[MsnNpc]
nickname = npc_Military_Valkyrie_01_03
npc = Military_Valkyrie_01
string_id = 0
;res $valkyrie_Rh05_CustomMissions_01
system = Rh05
position = -14522.8, 2.2, -1882.6
pilot_job = assault_leader_job
label = hostiles

[MsnNpc]
nickname = npc_Military_Valkyrie_01_04
npc = Military_Valkyrie_01
string_id = 0
;res $valkyrie_Rh05_CustomMissions_01
system = Rh05
position = -14622.8, 2.2, -1782.6
pilot_job = assault_leader_job
label = hostiles

[MsnNpc]
nickname = npc_Military_Valkyrie_01_05
npc = Military_Valkyrie_01
string_id = 0
;res $valkyrie_Rh05_CustomMissions_01
system = Rh05
position = -14622.8, 2.2, -1982.6
pilot_job = assault_leader_job
label = hostiles

[MsnNpc]
nickname = npc_Military_Gunboat_03
npc = Military_Gunboat
string_id = 0
;res str
; Gunboat
system = Rh05
position = -14622.8, -100, -1982.6
pilot_job = job_gunboat_a
label = hostiles

;; Defender Boss
[MsnNpc]
nickname = npc_Military_Fenrir_01
npc = Military_Fenrir_Boss
string_id = 0
;res str bossname_Rh05_CustomMissions_01
; "Silber Team"
system = Rh05
position = -14622.8, 2.2, -7164
pilot_job = assault_leader_job
label = Boss

[MsnNpc]
nickname = npc_Military_Fenrir_02
npc = Military_Fenrir_01
string_id = 0
;res $bossname_Rh05_CustomMissions_01
; "Silber Team"
system = Rh05
position = -14722.8, 2.2, -7164
pilot_job = assault_leader_job
label = Boss

[MsnNpc]
nickname = npc_Military_Fenrir_03
npc = Military_Fenrir_01
string_id = 0
;res $bossname_Rh05_CustomMissions_01
; "Silber Team"
system = Rh05
position = -14522.8, 2.2, -7164
pilot_job = assault_leader_job
label = Boss

[MsnNpc]
nickname = npc_Military_Gunboat_01
npc = Military_Gunboat
string_id = 0
;res $bossname_Rh05_CustomMissions_01
; "Silber Team"
system = Rh05
position = -14622.8, -150, -7164
pilot_job = job_gunboat_a
label = Boss

[MsnNpc]
nickname = npc_Military_Gunboat_02
npc = Military_Gunboat
string_id = 0
;res $bossname_Rh05_CustomMissions_01
; "Silber Team"
system = Rh05
position = -14722.8, 150, -7164
pilot_job = job_gunboat_a
label = Boss

;; -- SOLARS --

[MsnSolar]
nickname = solar_Daumann_Miner
string_id = 0
;res str
; Daumann Asteroid Miner
archetype = mission_Roid_Miner_Cargo_tuck
loadout = mission_Roid_Miner_copper_01
system = Rh05
position = -18024.4, 0, -4973.7
rotate = 0, 135, 0
space_costume = rh_newscaster_head_gen_hat, br_karina_body, prop_neuralnet_E_right
faction = co_khc_grp
voice = atc_leg_f01
hitpoints = 1000000
label = hostiles
label = Target

;; ###############################
;; ---------FORMATIONS------------
;; ###############################

[MsnFormation]
nickname = AttackWing01
position = -18024.4, 0, -6200
rotate = 0, 0, 0
formation = fighter_basic
ship = npc_Hessians_Foxhound_01_01
ship = npc_Hessians_Foxhound_01_02
ship = npc_Hessians_Foxhound_01_03
ship = npc_Hessians_Foxhound_01_04

[MsnFormation]
nickname = AttackWing02
position = -17432.6, 0, -7200
rotate = 0, 0, 0
formation = fighter_basic
ship = npc_Hessians_Foxhound_04_01
ship = npc_Hessians_Bloodhound_01_01
ship = npc_Hessians_Bloodhound_01_02
ship = npc_Hessians_Bloodhound_01_03

[MsnFormation]
nickname = DefenderWing01
position = -18033.8, 100, -4977.3
rotate = 0, 0, 0
formation = fighter_basic
ship = npc_Daumann_Falcon_01_01
ship = npc_Daumann_Falcon_01_02
ship = npc_Daumann_Falcon_01_03
ship = npc_Daumann_Falcon_01_04
ship = npc_Daumann_Falcon_01_05
ship = npc_Daumann_Falcon_01_06

[MsnFormation]
nickname = DefenderWing02
position = -17835.5, 0, -1000
rotate = 0, 0, 0
formation = fighter_basic
ship = npc_Daumann_Eagle_01_01
ship = npc_Daumann_Eagle_01_02
ship = npc_Daumann_Eagle_01_03
ship = npc_Daumann_Eagle_01_04
ship = npc_Daumann_Eagle_01_05
ship = npc_Daumann_Eagle_01_06
ship = npc_Daumann_Eagle_01_07
ship = npc_Daumann_Eagle_01_08

[MsnFormation]
nickname = DefenderWing03
position = -14622.8, 2.2, -1882.6
rotate = 0, 75, 0
formation = fighter_basic
ship = npc_Military_Valkyrie_01_01
ship = npc_Military_Valkyrie_01_02
ship = npc_Military_Valkyrie_01_03
ship = npc_Military_Valkyrie_01_04
ship = npc_Military_Valkyrie_01_05

[MsnFormation]
nickname = DefenderWing04
position = -14622.8, 2.2, -7164
rotate = 0, 0, 0
formation = gunboat_rh_n
ship = npc_Military_Fenrir_01
ship = npc_Military_Fenrir_02
ship = npc_Military_Fenrir_03
ship = npc_Military_Gunboat_01
ship = npc_Military_Gunboat_02

;; ###############################
;; ------------DIALOGS------------
;; ###############################


;; Dialogs are currently no recognized from the parser, you need to fill ID´s yourself!
[Dialog]
nickname = dialog_entering_mission_zone
etherSender = MissionCommission, mc_leg_m01, 13015, pi_pirate1_head, pi_pirate2_body
etherSender = Attacker, pilot_f_ill_m02, 0, ge_male1_head, pi_pirate2_body, comm_pi_pirate
;res $rot1
line = coms_entering_zone_attacker, players, Attacker, gcs_misc_thisis+, gcs_refer_faction_fc_rh_short, gcs_refer_formationdesig_14, gcs_misc_number_1-, gcs_combat_askforhelp_04-, 1.0, true
line = coms_entering_zone_mc, players, MissionCommission, rmb_inrangetarget_02-, 0.1, false

[Dialog]
nickname = dialog_close_to_objective
line = coms_close_to_objective_attacker, players, npc_Hessians_Foxhound_01_01, gcs_combat_order_engage_02-, 0.5, true
line = coms_close_to_objective_defender, players, solar_Daumann_Miner, gcs_combat_taking_dmg_06-, 0.5, true
line = coms_close_to_objective_defender02, players, npc_Daumann_Falcon_01_01, gcs_misc_ack_01-, gcs_misc_attentionallwingmen_01+, gcs_combat_order_engage_01-, 0.5, true
line = coms_close_to_objective_attacker02, players, npc_Hessians_Foxhound_01_01, gcs_scan_angry_01-, 0.5, true
line = coms_close_to_objective_defender03, players, npc_Daumann_Falcon_01_01, rms_smallshiptaunt_03-, 0.5, true

[Dialog]
nickname = dialog_reinforcements_defender01
etherSender = NeuralNet, NNVoice
line = coms_reinforcements_defender01, players, NeuralNet, warning, info_incoming_hostiles, 0.5, false

[Dialog]
nickname = dialog_reinforcements_defender02
etherSender = NeuralNet, NNVoice
line = coms_reinforcements_defender02, players, NeuralNet, warning, info_incoming_hostiles, 0.5, false

[Dialog]
nickname = dialog_reinforcements_defender03
etherSender = NeuralNet, NNVoice
line = coms_reinforcements_defender03_02, players, NeuralNet, warning, info_incoming_hostiles, 0.5, false

[Dialog]
nickname = dialog_reinforcements_defender04
etherSender = NeuralNet, NNVoice
line = coms_reinforcements_defender04_01, players, npc_Military_Fenrir_01, gcs_scan_angry_01-, rms_smallshiptaunt_02-, 0.5, false
line = coms_reinforcements_defender04_02, players, NeuralNet, danger, info_incoming_hostiles, 0.5, false

[Dialog]
nickname = dialog_reinforcements_attacker01
etherSender = Attacker2, pilot_c_ill_m02, 0, pi_pirate1_head, pi_pirate2_body, comm_br_darcy
;res $gruen1
line = coms_reinforcements_attacker01_01, players, Attacker2, rms_friendlyarrival_03-, 1.5, false
line = coms_reinforcements_attacker01_02, players, Attacker2, gcs_misc_attentionallwingmen_01+, gcs_combat_takinglead_01-, gcs_combat_order_engage_04-, 0.5, false

[Dialog]
nickname = dialog_mission_success
etherSender = MissionCommission, mc_leg_m01, 13015, pi_pirate1_head, pi_pirate2_body
line = coms_mission_success_mc, players, MissionCommission, rmb_success_solar_02-, 0.1, false

[Dialog]
nickname = dialog_deserteurs_warning
etherSender = MissionCommission, mc_leg_m01, 13015, pi_pirate1_head, pi_pirate2_body 
line = coms_deserteurs_mc, ACTIVATOR, MissionCommission, rmb_outofbattle_02-, 0.5, false

[Dialog]
nickname = dialog_deserteurs_returning
etherSender = MissionCommission, mc_leg_m01, 13015, pi_pirate1_head, pi_pirate2_body
line = coms_deserteurs_returning_mc, ACTIVATOR, MissionCommission, rmb_reenterbattle_02-, 0.5, false

[Dialog]
nickname = dialog_deserteurs_mission_fail
etherSender = MissionCommission, mc_leg_m01, 13015, pi_pirate1_head, pi_pirate2_body 
line = coms_mission_success_mc, ACTIVATOR, MissionCommission, rmb_fail_combatrange_02-, 0.1, false

[Dialog]
nickname = dialog_mission_fail_dead
etherSender = MissionCommission, mc_leg_m01, 13015, pi_pirate1_head, pi_pirate2_body 
line = coms_mission_failed, players, MissionCommission, rmb_fail_outoflives_02-, 0.1, false

[Dialog]
nickname = dialog_objective_damage_25
line = coms_target_25percent_damage, players, solar_Daumann_Miner, gcs_combat_taking_dmg_05-, 0.5, true

[Dialog]
nickname = dialog_objective_damage_50
line = coms_target_50percent_damage, players, solar_Daumann_Miner, gcs_combat_taking_dmg_worst_01-, 0.5, true

[Dialog]
nickname = dialog_objective_damage_75
line = coms_target_75percent_damage, players, solar_Daumann_Miner, gcs_combat_taking_dmg_worst_06-, 0.5, true

[Dialog]
nickname = dialog_objective_destroyed
line = coms_target_about_to_be_destroyed, players, solar_Daumann_Miner, gcs_combat_scream_08-, 0.5, true


;; ###############################
;; --------OBJECTIVE LISTS--------
;; ###############################

;; Fly to Mission Zone
[ObjList]
nickname = ol_fly_to_mission_zone
GotoVec = goto_cruise, -18024.4, 0, -4973.3, 1500, -1
BreakFormation = no_params

[ObjList]
nickname = ol_back_to_base
GotoVec = goto_cruise, -14917, 0, -23680, 2000, -1

;; ###############################
;; -------TRIGGER SECTION---------
;; ###############################

;; -------------------------------
;; AFTER ACCEPTING MISSION
;; -------------------------------

;; Start of Mission. Objective uses 'best path' because mission is unlawful
[Trigger]
nickname = start_mission
initstate = ACTIVE
Act_ActTrig = start_manage_initial_player_locations
Act_AddLabel = players, alive
Act_AddLabel = players, Arriving_players
Act_SetNNObj = players, 0, Rh05, -18024.4, 0, -4973.3, false
;res str
; Fly to the Mission Waypoint (Dresden, Sector 4C)

[Trigger]
nickname = start_manage_initial_player_locations
Cnd_True = no_params
Act_AddLabel = players, unmanaged_player
Act_ActTrig = start_players_on_base
Act_ActTrig = start_players_in_same_system
Act_ActTrig = start_players_in_space
Act_ActTrig = finish_manage_initial_player_locations

;; cleans up repeating triggers and starts first wave of mission commission communication for players in space when mission is accepted
[Trigger]
nickname = finish_manage_initial_player_locations
Cnd_Count = unmanaged_player, 0
Act_DeactTrig = start_players_on_base
Act_ActTrig = start_players_in_same_system
Act_DeactTrig = start_players_in_space
;Act_DebugMsg = DEBUG Finished assigning players their initial conditions for comms
Act_ActTrig = mc_com_players_in_same_system
Act_ActTrig = mc_com_players_in_other_system

;; Detecting Players docked on bases
[Trigger]
nickname = start_players_on_base
repeatable = auto
Cnd_OnBase = unmanaged_player
Act_AddLabel = ACTIVATOR, Start_On_base
Act_RemoveLabel = ACTIVATOR, unmanaged_player

;; Detecting Players already in space
[Trigger]
nickname = start_players_in_same_system
repeatable = auto
Cnd_InSystem = unmanaged_player, Rh05
Act_AddLabel = ACTIVATOR, started_in_system
Act_RemoveLabel = ACTIVATOR, unmanaged_player

;; start_players_in_same_system MUST run completely before this.
[Trigger]
nickname = start_players_in_space
repeatable = auto
Cnd_InSystem = unmanaged_player
Act_AddLabel = ACTIVATOR, started_in_space
Act_RemoveLabel = ACTIVATOR, unmanaged_player


;; Players launching to space

[Trigger]
nickname = start_mission_entering_space
initstate = ACTIVE
repeatable = Auto
Cnd_SystemEnter = Start_On_base, Rh05
Act_RemoveLabel = ACTIVATOR, Start_On_base
Act_AddLabel = ACTIVATOR, Launching
Act_ActTrig = start_mission_entering_space_mc_dialog

;; start_mission_entering_space MUST run completely before this.
[Trigger]
nickname = start_mission_entering_space_anywhere
initstate = ACTIVE
repeatable = Auto
Cnd_SystemEnter = Start_On_base
Act_RemoveLabel = ACTIVATOR, Start_On_base
Act_AddLabel = ACTIVATOR, Launching_anywhere
Act_ActTrig = start_mission_entering_space_mc_dialog_anywhere

[Trigger]
nickname = start_mission_entering_space_mc_dialog
repeatable = Manual
Cnd_Timer = 12
Act_EtherComm = coms_mission_update, Launching, mc_leg_m01, rmb_targetatwaypoint_01-, 0, false, 13015, pi_pirate1_head, pi_pirate2_body
Act_RemoveLabel = Launching, Launching

[Trigger]
nickname = start_mission_entering_space_mc_dialog_anywhere
repeatable = Manual
Cnd_Timer = 12
Act_EtherComm = coms_mission_update, Launching_anywhere, mc_leg_m01, rmb_targetatwaypoint_01-, 0, false, 13015, pi_pirate1_head, pi_pirate2_body
Act_RemoveLabel = Launching_anywhere, Launching_anywhere

;; Sends "go to waypoint" comm to all players that got the 'started in system' label
[Trigger]
nickname = mc_com_players_in_same_system
repeatable = Manual
Cnd_True = no_params
Act_EtherComm = coms_mission_update, started_in_system, mc_leg_m01, rmb_targetatwaypoint_01-, 0, false, 13015, pi_pirate1_head, pi_pirate2_body
Act_RemoveLabel = started_in_system, started_in_system

;; Sends "proceed to target system" comm to all players that remain with the 'started in space' label
[Trigger]
nickname = mc_com_players_in_other_system
repeatable = Manual
Cnd_True = no_params
Act_EtherComm = coms_mission_update, started_in_space, mc_leg_m01, rmb_flytosystem_01-, 0, false, 13015, pi_pirate1_head, pi_pirate2_body
Act_RemoveLabel = started_in_space, started_in_space

;; -------------------------------
;; ENTERING MISSION ZONE
;; -------------------------------

[Trigger]
nickname = entering_mission_zone
initstate = ACTIVE
Cnd_DistVec = players, -18024.4, 0, -4973.3, 10000, Rh05, INSIDE
; Spawn NPC´s
Act_SpawnFormation = AttackWing01
Act_SpawnFormation = DefenderWing01
Act_SpawnSolar = solar_Daumann_Miner
; Order NPC´s to fly to Mission Zone
; - Attacker
Act_GiveObjList = npc_Hessians_Foxhound_01_01, ol_fly_to_mission_zone
Act_GiveObjList = npc_Hessians_Foxhound_01_02, ol_fly_to_mission_zone
Act_GiveObjList = npc_Hessians_Foxhound_01_03, ol_fly_to_mission_zone
Act_GiveObjList = npc_Hessians_Foxhound_01_04, ol_fly_to_mission_zone
; - Defender
Act_GiveObjList = npc_Daumann_Falcon_01_01, ol_fly_to_mission_zone
Act_GiveObjList = npc_Daumann_Falcon_01_02, ol_fly_to_mission_zone
Act_GiveObjList = npc_Daumann_Falcon_01_03, ol_fly_to_mission_zone
Act_GiveObjList = npc_Daumann_Falcon_01_04, ol_fly_to_mission_zone
Act_GiveObjList = npc_Daumann_Falcon_01_05, ol_fly_to_mission_zone
Act_GiveObjList = npc_Daumann_Falcon_01_06, ol_fly_to_mission_zone
; Change Music
Act_PlayMusic = players, music_rh_space, music_rh_danger, music_rh_battle, music_rh_danger, 1, true
; Start Dialog
Act_StartDialog = dialog_entering_mission_zone
Act_ActTrig = Player_kia_in_Zone
Act_ActTrig = Player_kia_launching
Act_ActTrig = Player_kia_returning
Act_ActTrig = close_to_mission_zone
Act_ActTrig = Target_health_25
Act_ActTrig = Target_health_50
Act_ActTrig = Target_health_75
Act_ActTrig = Target_health_100
Act_ActTrig = make_invulnerable

[Trigger]
nickname = make_invulnerable
Cnd_True = no_params
Act_Invulnerable = npc_Hessians_Foxhound_01_01, true, true, 0.9
Act_Invulnerable = npc_Daumann_Falcon_01_01, true, true, 0.9

;; -------------------------------
;; CLOSE TO OBJECTIVE
;; -------------------------------

[Trigger]
nickname = close_to_mission_zone
Cnd_DistVec = players, -18024.4, 0, -4973.3, 3000, Rh05, INSIDE
; Start Dialog
Act_StartDialog = dialog_close_to_objective
; Update Waypoint
Act_SetNNObj = players, 0, Rh05, -18024.4, 0, -4973.3, false, Defender_Base
;res str mainobjective
; Destroy Dauman Asteroid Miner and Ships
Act_PlayMusic = players, music_rh_space, music_rh_danger, music_rh_battle, music_reveal_enemy_position_of_strength, 1, true
; Activate Checks for Deserteurs
Act_AddLabel = players, Not_Heard_Warning
Act_ActTrig = deserteurs_warning
Act_ActTrig = deserteurs_warning_returning
Act_ActTrig = deserteurs_flew_away
Act_ActTrig = Player_lives_4
; Act_ActTrig = Mission_Objective_failed_No_Players
Act_ActTrig = Mission_Objective_Complete
Act_ActTrig = spawn_first_wave
Act_ActTrig = spawn_second_wave
; Boss spawn (25% chance)
Act_ActTrig = spawn_boss_wave, 0.25
; Additional Attacker spawn (50%)
Act_ActTrig = spawn_second_attacker_wave, 0.5
; Make NPC´s stay in Combat Zone if no target nearby
Act_ActTrig = send_defender_back
Act_ActTrig = send_boss_back
Act_ActTrig = send_attackers_back
Act_DeactTrig = start_mission_entering_space
Act_DeactTrig = start_mission_entering_space_anywhere
Act_ActTrig = make_vulnerable

[Trigger]
nickname = make_vulnerable
Cnd_Timer = 20
Act_Invulnerable = npc_Hessians_Foxhound_01_01, false, false, 0.0
Act_Invulnerable = npc_Daumann_Falcon_01_01, false, false, 0.0

;; -------------------------------
;; SPAWN REINFORCEMENTS 
;; -------------------------------

;; First Wave
[Trigger]
nickname = spawn_first_wave
Cnd_Destroyed = hostiles, 3
Act_SpawnFormation = DefenderWing02
Act_ActTrig = Set_first_wave_OL
Act_StartDialog = dialog_reinforcements_defender02

[Trigger]
nickname = Set_first_wave_OL
Cnd_True = no_params
Act_GiveObjList = npc_Daumann_Eagle_01_01, ol_fly_to_mission_zone
Act_GiveObjList = npc_Daumann_Eagle_01_02, ol_fly_to_mission_zone
Act_GiveObjList = npc_Daumann_Eagle_01_03, ol_fly_to_mission_zone
Act_GiveObjList = npc_Daumann_Eagle_01_04, ol_fly_to_mission_zone
Act_GiveObjList = npc_Daumann_Eagle_01_05, ol_fly_to_mission_zone
Act_GiveObjList = npc_Daumann_Eagle_01_06, ol_fly_to_mission_zone
Act_GiveObjList = npc_Daumann_Eagle_01_07, ol_fly_to_mission_zone
Act_GiveObjList = npc_Daumann_Eagle_01_08, ol_fly_to_mission_zone

;; Second Wave
[Trigger]
nickname = spawn_second_wave
Cnd_Destroyed = hostiles, 9
Act_SpawnFormation = DefenderWing03
Act_ActTrig = Set_second_wave_OL
Act_SpawnShip = npc_Military_Gunboat_03, ol_fly_to_mission_zone
Act_StartDialog = dialog_reinforcements_defender03

[Trigger]
nickname = Set_second_wave_OL
Cnd_True = no_params
Act_GiveObjList = npc_Military_Valkyrie_01_01, ol_fly_to_mission_zone
Act_GiveObjList = npc_Military_Valkyrie_01_02, ol_fly_to_mission_zone
Act_GiveObjList = npc_Military_Valkyrie_01_03, ol_fly_to_mission_zone
Act_GiveObjList = npc_Military_Valkyrie_01_04, ol_fly_to_mission_zone
Act_GiveObjList = npc_Military_Valkyrie_01_05, ol_fly_to_mission_zone

;; Boss (25% Chance)
[Trigger]
nickname = spawn_boss_wave
Cnd_Destroyed = hostiles, 13
Act_SpawnFormation = DefenderWing04
Act_ActTrig = Set_boss_wave_OL
Act_StartDialog = dialog_reinforcements_defender04
Act_ActTrig = Bonus_Bounty

[Trigger]
nickname = Set_boss_wave_OL
Cnd_True = no_params
Act_GiveObjList = npc_Military_Fenrir_01, ol_fly_to_mission_zone
Act_GiveObjList = npc_Military_Fenrir_02, ol_fly_to_mission_zone
Act_GiveObjList = npc_Military_Fenrir_03, ol_fly_to_mission_zone
Act_GiveObjList = npc_Military_Gunboat_01, ol_fly_to_mission_zone
Act_GiveObjList = npc_Military_Gunboat_02, ol_fly_to_mission_zone

;; Second Attacke Wave (50% Chance)
[Trigger]
nickname = spawn_second_attacker_wave
Cnd_Timer = 60
Act_SpawnFormation = AttackWing02
Act_ActTrig = Set_second_attackerwave_OL
Act_StartDialog = dialog_reinforcements_attacker01

[Trigger]
nickname = Set_second_attackerwave_OL
Cnd_True = no_params
Act_GiveObjList = npc_Hessians_Foxhound_04_01, ol_fly_to_mission_zone
Act_GiveObjList = npc_Hessians_Bloodhound_01_01, ol_fly_to_mission_zone
Act_GiveObjList = npc_Hessians_Bloodhound_01_02, ol_fly_to_mission_zone
Act_GiveObjList = npc_Hessians_Bloodhound_01_03, ol_fly_to_mission_zone

;; -------------------------------
;; BIG TARGET HP STATUS DIALOG
;; -------------------------------

[Trigger]
nickname = Target_health_25
Cnd_HealthDec = solar_Daumann_Miner, 0.75
Act_StartDialog = dialog_objective_damage_25

[Trigger]
nickname = Target_health_50
Cnd_HealthDec = solar_Daumann_Miner, 0.5
Act_StartDialog = dialog_objective_damage_50

[Trigger]
nickname = Target_health_75
Cnd_HealthDec = solar_Daumann_Miner, 0.25
Act_StartDialog = dialog_objective_damage_75

[Trigger]
nickname = Target_health_100
Cnd_HealthDec = solar_Daumann_Miner, 0.0
Act_StartDialog = dialog_objective_destroyed

;; -------------------------------
;; PULL NPC´s BACK IF OUTSIDE
;; -------------------------------

[Trigger]
nickname = send_defender_back
repeatable = Auto
Cnd_DistVec = hostiles, -18024.4, 0, -4973.3, 6000, Rh05, OUTSIDE
Act_GiveObjList = ACTIVATOR, ol_fly_to_mission_zone

[Trigger]
nickname = send_boss_back
repeatable = Auto
Cnd_DistVec = Boss , -18024.4, 0, -4973.3, 6000, Rh05, OUTSIDE
Act_GiveObjList = ACTIVATOR, ol_fly_to_mission_zone

[Trigger]
nickname = send_attackers_back
repeatable = Auto
Cnd_DistVec = allies, -18024.4, 0, -4973.3, 6000, Rh05, OUTSIDE
Act_GiveObjList = ACTIVATOR, ol_fly_to_mission_zone

;; -------------------------------
;; DESERTEURS (WARNING)
;; -------------------------------

;; Player is about to leave the Mission Area!
[Trigger]
nickname = deserteurs_warning
repeatable = Auto
Cnd_DistVec = Not_Heard_Warning, -18024.4, 0, -4973.7, 7500, Rh05, OUTSIDE
Act_StartDialog = dialog_deserteurs_warning
Act_SetNNObj = ACTIVATOR, 0, Rh05, -18024.4, 0, -4973.3
;res str
; Warning - Leaving Combat Area!
Act_AddLabel = ACTIVATOR, Heard_Warning
Act_RemoveLabel = ACTIVATOR, Not_Heard_Warning

;; Player is returning to Mission Area!
[Trigger]
nickname = deserteurs_warning_returning
repeatable = Auto
Cnd_DistVec = Heard_Warning, -18024.4, 0, -4973.3, 4000, Rh05, INSIDE
Act_AddLabel = ACTIVATOR, Not_Heard_Warning
Act_RemoveLabel = ACTIVATOR, Heard_Warning
Act_StartDialog = dialog_deserteurs_returning
Act_SetNNObj = ACTIVATOR, 0, Rh05, -18024.4, 0, -4973.3, false, solar_Daumann_Miner
;res $mainobjective

;; -------------------------------
;; DESERTEURS (MISSION FAILURE)
;; -------------------------------

;; Player left Mission Area!
[Trigger]
nickname = deserteurs_flew_away
repeatable = Auto
Cnd_DistVec = Heard_Warning, -18024.4, 0, -4973.3, 12000, Rh05, OUTSIDE
Act_StartDialog = dialog_deserteurs_mission_fail
Act_AdjRep = ACTIVATOR, fc_rh_grp, MissionFailure
Act_LeaveMsn = ACTIVATOR, Failure, 21970

;; -------------------------------
;; PLAYER KIA INSIDE MISSION AREA
;; -------------------------------

;; Player died in Mission Area!
[Trigger]
nickname = Player_kia_in_Zone
repeatable = Auto
Cnd_Destroyed = alive, 1, Explode, , Destroyed
Act_RemoveLabel = ACTIVATOR, Not_Heard_Warning
Act_RemoveLabel = ACTIVATOR, Heard_Warning
Act_RemoveLabel = ACTIVATOR, alive
Act_AddLabel = ACTIVATOR, dead

;; Dead Player is launching
[Trigger]
nickname = Player_kia_launching
repeatable = Auto
Cnd_SystemEnter = dead, Rh05
Act_SetNNObj = ACTIVATOR, 0, Rh05, -18024.4, 0, -4973.3, true
;res str
; Fly to the Mission Waypoint (Dresden, Sector 4C)

;; Dead Player is returning to Mission Area!
[Trigger]
nickname = Player_kia_returning
repeatable = Auto
Cnd_DistVec = dead, -18024.4, 0, -4973.3, 5000, Rh05, INSIDE
Act_AddLabel = ACTIVATOR, Heard_Warning
Act_AddLabel = ACTIVATOR, alive
Act_RemoveLabel = ACTIVATOR, dead

;; -------------------------------
;; LIVES COUNTING
;; -------------------------------

[Trigger]
nickname = Player_lives_4
Cnd_Destroyed = alive, 1, Explode
Act_SetNNObj = players, 0
;res str
; Allied Ship Lost! - 4 Left
Act_ActTrig = Player_lives_3

[Trigger]
nickname = Player_lives_3
Cnd_Destroyed = alive, 1, Explode
Act_SetNNObj = players, 0
;res str
; Allied Ship Lost! - 3 Left
Act_ActTrig = Player_lives_2

[Trigger]
nickname = Player_lives_2
Cnd_Destroyed = alive, 1, Explode
Act_SetNNObj = players, 0
;res str
; Allied Ship Lost! - 2 Left
Act_ActTrig = Player_lives_1

[Trigger]
nickname = Player_lives_1
Cnd_Destroyed = alive, 1, Explode
Act_SetNNObj = players, 0
;res str
; Allied Ship Lost! - 1 Left
Act_ActTrig = Mission_Objective_failed_No_Lives

;; -------------------------------
;; OUT OF LIVES! (MISSION FAILED)
;; -------------------------------

[Trigger]
nickname = Mission_Objective_failed_No_Lives
Cnd_Destroyed = alive, 1, Explode
Act_SetNNObj = players, 0
;res str
; All Ships Lost!
Act_StartDialog = dialog_mission_fail_dead
Act_LeaveMsn = players, Failure, 21970
Act_AdjRep = players, fc_rh_grp, MissionFailure
Act_SetMsnResult = Failure
Act_LeaveMsn = players, Failure, 21970
Act_ActTrig = Cleaning_up_repeatables

;; -------------------------------
;; NO PLAYERS IN MISSION ZONE (MISSION FAILED)
;; -------------------------------

; [Trigger]
; nickname = Mission_Objective_failed_No_Players
; Cnd_Destroyed = alive, -1
; Act_StartDialog = dialog_mission_fail_dead
; Act_SetMsnResult = Failure
; Act_LeaveMsn = players, Failure, 21970
; Act_ActTrig = Cleaning_up_repeatables

;; -------------------------------
;; MISSION OBJECTIVE (MISSION COMPLETE)
;; -------------------------------

[Trigger]
nickname = Mission_Objective_Complete
Cnd_Destroyed = hostiles, -1
Act_StartDialog = dialog_mission_success
Act_AdjAcct = players, 20000000, true
Act_AdjRep = players, fc_rh_grp, 0.25
Act_SetMsnResult = Success
Act_LeaveMsn = players, Success, 1231
Act_ActTrig = Cleaning_up_repeatables

;; -------------------------------
;; MISSION OBJECTIVE (BONUS)
;; -------------------------------

[Trigger]
nickname = Bonus_Bounty
Cnd_Destroyed = Boss, -1
Act_AdjAcct = players, 5000000, true
Act_SetNNObj = players, 0
;res str
; Bounty Received

;; -------------------------------
;; CLEANING UP
;; -------------------------------

[Trigger]
nickname = Cleaning_up_repeatables
Cnd_True = no_params
Act_DeactTrig = deserteurs_warning
Act_DeactTrig = deserteurs_warning_returning
Act_DeactTrig = deserteurs_flew_away
Act_DeactTrig = start_mission_entering_space
Act_DeactTrig = start_mission_entering_space_anywhere
Act_DeactTrig = Player_kia_in_Zone
Act_DeactTrig = Player_kia_launching
Act_DeactTrig = Player_kia_returning
Act_ActTrig = end_mission_delayed

;; ###############################
;; ---------END SECTION-----------
;; ###############################

;; Delayed Mission End (30s)
[Trigger]
nickname = end_mission_delayed
Cnd_Timer = 30
Act_TerminateMsn = no_params
